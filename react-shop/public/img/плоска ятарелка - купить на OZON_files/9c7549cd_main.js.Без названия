"use strict";(self.webpackChunk_ozon_ozon_ru=self.webpackChunk_ozon_ozon_ru||[]).push([["main"],{"1fe6b":function(e,t,n){n.d(t,{P:function(){return r},t:function(){return o}});var r={stateId:{type:String,default:""},vertical:{type:String,required:!0},componentName:{type:String,required:!0},version:{type:Number,default:null},root:{type:Boolean,default:!1},placeholders:{type:Array,default:function(){return[]}},widgetToken:{type:String,default:void 0}},o=Object.assign({},r,{trackingInfoProp:{type:[Object,String],default:function(){return{}}},trackingName:{type:String,default:""},widgetInitialState:{type:Object,default:function(){return{}}}})},"9235f":function(e,t,n){n.r(t),n.d(t,{default:function(){return z}});var r=n("ee268"),o=n.n(r),c=n("cd940"),d=n("956ab"),l=n.n(d),f=n("aa5b4"),h=n("b0b6b"),v=n("3ce95"),_=n("9434f"),y=n("2a740"),m=n("1fe6b"),E=n("b4a25"),w=n("46296"),S={name:"InViewportMixin",created:function(){this.widgetInViewport=!1,this.viewportEvents=[]},mounted:function(){var e=this;this.intersectionObserver=new IntersectionObserver((function(t){var n=t[0];if(!n)return!1;e.viewportEvents=e.viewportEvents.filter((function(e){return e.params.sendAlways?(e.callback(n.isIntersecting),!0):!n.isIntersecting||(e.callback(!0),!(e.params.once&&!e.params.store))}))})),this.reloadObserverSubscription=h.registry.use(w.r).listen("GET_LAYOUT",(function(){e._reloadObserver()})),this.registerViewportEvent((function(t){e.widgetInViewport=t}),{sendAlways:!0}),this._bindViewportEvents()},beforeDestroy:function(){this._unbindViewportEvents(),this.reloadObserverSubscription&&this.reloadObserverSubscription.unsubscribe()},methods:{registerViewportEvent:function(e,t){void 0===t&&(t={});var n=function(e,t){return void 0===t&&(t={}),{params:t,callback:e,viewed:!1}}(e,t);return this.viewportEvents.push(n),n},_reloadObserver:function(){var e=this;this.$nextTick((function(){e.$el instanceof HTMLElement&&(e.intersectionObserver.unobserve(e.$el),e.intersectionObserver.observe(e.$el))}))},_bindViewportEvents:function(){this.$el instanceof HTMLElement&&this.intersectionObserver.observe(this.$el)},_unbindViewportEvents:function(){this.intersectionObserver.disconnect()}}},T=n("2ef7a"),O=n("98942"),R=n("d0250"),I=n("d0691"),C=n("bdde6"),k={data:function(){return{hooks:{}}},methods:{hook:function(e,t,n){void 0===n&&(n={}),this.hooks[e]=this.hooks[e]||[],this.hooks[e].push({callback:t,params:n})},callHook:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return(0,c.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,c.__generator)(this,(function(o){switch(o.label){case 0:if(!this.hooks[e])return[3,4];n=0,o.label=1;case 1:return n<this.hooks[e].length?[4,(r=this.hooks[e][n]).callback.apply(this,t)]:[3,4];case 2:o.sent(),r.params.once&&(this.hooks[e].splice(n,1),n--),o.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))}},beforeDestroy:function(){this.hooks=[]}},A={mixins:[k,S],data:function(){return{isAsyncLoading:!1,isAsyncLoaded:!1,isAsyncDelay:!1,isAsyncFailed:!1,asyncLoadEvent:null}},props:{asyncType:{type:String,validator:function(e){return C.l.indexOf(e)>=0||void 0===e}},asyncHash:{type:String,default:""}},computed:{showAsyncLoader:function(){return this.asyncType&&!this.isAsyncLoaded}},created:function(){if(this.asyncType&&!this.asyncHash){var e=new O.WidgetError(T._.WIDGET_ASYNC_WITHOUT_HASH);return this.$logger.error(e),!1}this._tryToRegisterViewEvent()},mounted:function(){return(0,c.__awaiter)(this,void 0,void 0,(function(){var e=this;return(0,c.__generator)(this,(function(t){switch(t.label){case 0:return this.checkWidgetStateSubscription=h.registry.use(w.r).listen(["GET_LAYOUT","SET_COMPOSER_LAYOUT"],(function(){e.checkWidgetState()})),[4,this._tryToLoadOnMount()];case 1:return t.sent(),[2]}}))}))},beforeDestroy:function(){this.checkWidgetStateSubscription&&this.checkWidgetStateSubscription.unsubscribe()},methods:{preventAsyncFetch:function(){this.isAsyncDelay=!0},checkWidgetState:function(){return(0,c.__awaiter)(this,void 0,void 0,(function(){var e=this;return(0,c.__generator)(this,(function(t){return this.$nextTick((function(){return(0,c.__awaiter)(e,void 0,void 0,(function(){return(0,c.__generator)(this,(function(e){switch(e.label){case 0:return this.widgetState&&Object.keys(this.widgetState).length?[2]:this.isAsyncLoaded||this.isAsyncLoading?(this.isAsyncLoaded=this.isAsyncLoading=!1,this._tryToRegisterViewEvent(),[4,this._tryToLoadOnMount()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})),[2]}))}))},fetchAsyncState:function(e,t){return void 0===e&&(e=void 0),void 0===t&&(t=void 0),(0,c.__awaiter)(this,void 0,Promise,(function(){var n,r,o,d,l,f,h,v,_;return(0,c.__generator)(this,(function(c){switch(c.label){case 0:n=this._getAsyncWidgetApi(),o=(r=this).asyncHash,d=r.componentName,l=r.stateId,f={asyncHash:o,componentName:d,stateId:l},void 0!==e&&(f.extraBody=e),void 0!==t&&(f.url=t),this.isAsyncLoading=!0,c.label=1;case 1:return c.trys.push([1,4,,5]),[4,n(f)];case 2:return h=c.sent(),[4,this._replaceAsyncState(h,e)];case 3:return c.sent(),[3,5];case 4:throw v=c.sent(),"asyncFailedHandler"in this&&this.asyncFailedHandler(v,t),this.isAsyncLoading=!1,this.isAsyncLoaded=!1,this.isAsyncFailed=!0,(_=new O.WidgetError(T.nd.FETCH_ASYNC_WIDGET_STATE_ERROR)).setPayloadValue("response",v.response),_;case 5:return this.isAsyncLoading=!1,this.isAsyncLoaded=!0,this.isAsyncFailed=!1,this.callHook("async::loaded"),this.$emit("state::loaded"),[2]}}))}))},_replaceAsyncState:function(e,t){return void 0===t&&(t=void 0),(0,c.__awaiter)(this,void 0,Promise,(function(){var n,r,o,d,l,f;return(0,c.__generator)(this,(function(c){switch(c.label){case 0:return e.isSkip?[4,this.destroyWidget()]:[3,2];case 1:c.sent(),c.label=2;case 2:if(r=(n=this).asyncWidgetMapper,o=n.asyncSharedMapper,d=n.vertical,!e||"object"!=typeof e)throw new R.LoggerError(T._.WIDGET_ASYNC_EMPTY_RESPONSE);return l=e.state,f=e.verticalShared,l&&Object.keys(l).length&&(r&&"function"==typeof r&&(l=r(l,t)),this.setWidgetState(l)),f&&Object.keys(f).length&&(o&&"function"==typeof o&&(f=o(f)),(0,y.useComposerStore)(this).replaceSharedStore({vertical:d,verticalShared:f})),[2]}}))}))},_getAsyncWidgetApi:function(){var e=h.registry.use(I.ComposerService);return e.widget.bind(e)},_tryToLoadOnMount:function(){return(0,c.__awaiter)(this,void 0,Promise,(function(){return(0,c.__generator)(this,(function(e){switch(e.label){case 0:return this._isAsyncByType(C.m.TYPE_ON_PAGE_LOAD)||this._isAsyncByType(C.m.TYPE_ON_PREFETCH_PAGE_LOAD)?[4,this.fetchAsyncState()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},_tryToRegisterViewEvent:function(){this._isAsyncByType(C.m.TYPE_ON_VIEWPORT)&&this.registerViewportEvent(this.fetchAsyncState,{once:!0})},_isAsyncByType:function(e){return this.asyncType===e&&this.asyncHash&&!this.isAsyncDelay}}},N=n("a6863"),x=n("c3a5a");function L(e){return(0,x.Kn)(e)&&Boolean(e.actionType)&&Boolean(e.key)}function P(e){return(0,x.Kn)(e)&&Boolean(e.trinityEvent)}function D(e,t){if(e&&"object"==typeof e&&!1===Array.isArray(e)){for(var n in e){var r=t[e[n]];r&&(e[n]=r)}var o=e.nested;o&&Array.isArray(o)&&o.forEach((function(e){D(e,t)}))}}var j=(0,n("59712").F)("tracker",{ERROR_CALL_TRACKER_ON_SERVER:"Error: analytics sent from server side",ERROR_WHILE_USING_TRACKER_SEND:"Method trackerSend waiting required parameter - actionType or trackingInfo",WIDGET_NOT_FOUND_TRACKER_TOKEN:"Error while try to find tracker widget token",ERROR_WHILE_SENDING_EVENT:"Error while try to send analytics with trackerSend method",WIDGET_IS_MISSING_TRACKING_FLAG:"Widget sends analytics without isTrackingOn flag"}),W=n("da738"),M={mixins:[A,S,(0,y.composerStateMixin)({pageToken:function(e){return e._get("pageToken","")},userToken:function(e){return e._get("userToken","")},noTracking:function(e){return e._get("experimentsConfig.noTracking",!1)},enableInfoLogs:function(e){return e._get("experimentsConfig.enableTrackerInfoLogs",!1)}})],provide:function(){return{getWidgetTokenInjection:this.getWidgetToken,trackerSend:this.trackerSend}},props:{trackingInfoProp:{type:[Object,String],default:function(){return{}}},isTrackingOn:{type:Boolean,default:!1},isTrackView:{type:Boolean,default:!1},root:{type:Boolean,default:!1},widgetsStatisticsTrackerMetrics:{type:[Object,String],default:function(){return{}}}},computed:{trackingInfo:function(){var e=this.trackingInfoProp;return"string"==typeof e?JSON.parse(e):e}},mounted:function(){var e=this.$el,t=(0,y.useComposerStore)(this),n=(t.state._get("o3Params.x-o3-tracker-manager")||"on"===(0,W.ej)("tracker_manager"))&&e instanceof HTMLElement,r=(t.state._get("o3Params.x-o3-tracker-metrics")||"on"===(0,W.ej)("tracker_metrics"))&&e instanceof HTMLElement,o=l()(this,"trackingInfo.id"),c=e.dataset;if(n&&o&&(c.trackWidgetName=l()(this,"trackingInfo.name"),c.version=l()(this,"version"),c.vertical=l()(this,"vertical"),c.widgetName=l()(this,"componentName"),c.widgetId=o,c.pageType=t.state._get("pageInfo.pageType")),r&&n&&o&&(c.widgetsStatisticsTrackerMetrics=l()(this,"widgetsStatisticsTrackerMetrics")),this.isTrackView)return null==this.asyncType?this._registerSendViewEvent():void this.hook("async::loaded",this._delayRegisterViewEvent,{once:!0})},methods:{getWidgetToken:function(){return this.widgetToken},trackerSend:function(e,t,n){if(this.noTracking)return!1;if("string"!=typeof e&&!L(e))return this._logTrackerError(j.ERROR_WHILE_USING_TRACKER_SEND),!1;if(this.enableInfoLogs&&this.stateId&&!this.isTrackingOn&&(this._logTrackerInfo(j.WIDGET_IS_MISSING_TRACKING_FLAG),(0,y.useComposerStore)(this).state._get("experimentsConfig.disableWidgetTracking",!1)))return!1;var r=(0,y.useComposerStore)(this).state._get("trackingTokenAliases."+this.stateId+".data"),o=r&&Object.keys(r).length;if(L(e)){var c=function(e){return(0,x.Kn)(e)&&!P(e)}(t)?t:{};return o&&D(e,r),this._sendTrinityWithTrackingInfo(e,c,n)}var d=this._appendWidgetTokenInTrinity(P(t)?Object.assign({},t):{trinityEvent:{}});return o&&D(d.trinityEvent,r),(0,x.Kn)(d.trinityEvent)?this.$tracker.send(e,d,n):(this._logTrackerError(j.ERROR_WHILE_SENDING_EVENT),!1)},_sendTrinityWithTrackingInfo:function(e,t,n){if(this.noTracking)return!1;var r=this._generateTrinityContract(e,t);if((0,x.Kn)(r.trinityEvent)){var o=e.actionType,c=e.nested,d=void 0===c?[]:c;if(this.$tracker.send(o,r,n),d&&Array.isArray(d)&&d.length)for(var i=0;i<d.length;i++)this._sendTrinityWithTrackingInfo(d[i],t,n);return!0}return!1},_generateTrinityContract:function(e,t){return this._appendWidgetTokenInTrinity(function(e,t){var n=e.key,r=e.sliceKey,o={trinityEvent:{}};return n&&"string"==typeof n&&(o.trinityEvent.cellToken=n),r&&"string"==typeof r&&(o.trinityEvent.sliceToken=r),t&&(0,x.Kn)(t)&&(o.trinityEvent.custom=t),o}(e,t))},_appendWidgetTokenInTrinity:function(e){return(0,x.Kn)(e.trinityEvent)&&("string"==typeof this.widgetToken&&this.widgetToken?e.trinityEvent=Object.assign({},e.trinityEvent,{widgetToken:this.widgetToken}):this._logTrackerError(j.WIDGET_NOT_FOUND_TRACKER_TOKEN)),e},_delayRegisterViewEvent:function(){if(!this.noTracking)return this.widgetInViewport?this._sendViewEvent():void this._registerSendViewEvent()},_registerSendViewEvent:function(){this.noTracking||this.registerViewportEvent(this._sendViewEvent,{once:!0})},_sendViewEvent:function(){this.noTracking||this._sendAnalyticEvent(N.EActionTypes.WIDGET_VIEW_ACTION)},_sendAnalyticEvent:function(e){return!this.noTracking&&(!this.root&&this.trackerSend(e))},_logTrackerError:function(e){var t=new O.WidgetError(e);t.mergePayload({vertical:l()(this,"vertical"),component:l()(this,"componentName"),widget:l()(this,"widget"),stateId:l()(this,"stateId")}),this.$logger.error(t)},_logTrackerInfo:function(e){var t=l()(this,"trackingInfoProp"),n="string"==typeof t?JSON.parse(t):t,r={vertical:l()(this,"vertical"),originVertical:l()(n,"originVertical"),component:l()(this,"componentName"),originComponent:l()(n,"originComponent"),widget:l()(this,"widget"),stateId:l()(this,"stateId"),trackingInfoName:l()(n,"name")||l()(this,"trackingName"),originTrackingInfoName:l()(n,"originName"),version:l()(n,"version")||l()(this,"version"),originVersion:l()(n,"originVersion")};this.$logger.info({message:e,payload:r,zone:"tracker",forceMode:!0})}}},G={props:{widgetsStatisticsTrackerMetrics:{type:[Object,String],default:function(){return{}}}},mounted:function(){var e=((0,y.useComposerStore)(this).state._get("o3Params.x-o3-tracker-metrics")||"on"===(0,W.ej)("tracker_metrics"))&&this.$el instanceof HTMLElement,t=l()(this,"trackingInfo.id");e&&t&&(this.$el.dataset.widgetId=t,this.$el.dataset.widgetsStatisticsTrackerMetrics=l()(this,"widgetsStatisticsTrackerMetrics"))}},U=n("2c40a"),$={mixins:[(0,y.composerStateMixin)({toolbarFlag:function(e){return e._get("o3Params."+U.t)},widgets:function(e){return e._get("debug.widgets")},widgetsRT:function(e){return e._get("debug.widgetsRT",{})}})],computed:{_showWidgetInfo:function(){var e=(0,W.ej)("ozon_devtools");return(this.toolbarFlag||"on"===e)&&this.$el instanceof HTMLElement&&this._widgetId},_widgetId:function(){return l()(this.widgets,this.stateId+".id")}},methods:{handlerLoaderNextPage:function(e){if(this._showWidgetInfo){var t=document.querySelector("#debug-tool");t&&(t.dispatchEvent(new CustomEvent("loadNextPage",{detail:{widgetId:this._widgetId,value:e}})),this.$el.dataset.layoutId=e.debug.pageInfo.layoutId,this.$el.dataset.layoutName=e.debug.pageInfo.layoutContainer,this.$el.dataset.layoutVersion=e.debug.pageInfo.layoutVersion)}}},mounted:function(){var e=this;if(this._showWidgetInfo){if(this.$el.dataset.widgetId=this._widgetId,this.$el.dataset.stateId=this.stateId,this.$el.dataset.widgetName=l()(this,"componentName"),this.$el.dataset.vertical=l()(this,"vertical"),this.$el.dataset.version=l()(this,"version"),"paginator"===l()(this,"componentName")&&this.widgetInitialState.nextPage){var t=this.widgetInitialState.nextPage,n=new URL(t,"https://ozon.ru"),r=Number(n.searchParams.get("layout_page_index"));this.$el.dataset.currentPage=r}"megaPaginator"===l()(this,"componentName")&&this.currentPage&&(this.$el.dataset.currentPage=this.currentPage,this.$el.dataset.totalPages=this.totalPages)}if(this.toolbarFlag){var o=Object.assign({},this.widgetsRT[this.stateId]);document.addEventListener("get-widget-state",(function(t){if(t.detail.id===e.stateId)try{var n=e.widgetState;document.dispatchEvent(new CustomEvent("send-widget-state",{detail:{state:n?JSON.stringify(n):"{}",widgetRT:e.widgetsRT[e.stateId]?e.widgetsRT[e.stateId]:o}}))}catch(t){e.$logger.error({exception:t,zone:"client-widget-states"})}}))}}},B={beforeCreate:function(){var e=(0,y.useComposerStore)(this);if(e.state._get("o3Params.x-o3-sitespeed-enable")){var t=e.state._get("browser.isDesktop")?"desktop":"mobile",n=this.$options.propsData,r=[n.vertical,n.componentName,t,n.version].join("_").toUpperCase()||"widget";performance.mark("BEFORE_CREATE:"+r),this.$once("hook:mounted",(function(){performance.mark("MOUNTED:"+r),performance.measure("MOUNT:"+r,"BEFORE_CREATE:"+r,"MOUNTED:"+r)}))}}},H=n("7a484"),V={props:{asyncType:{type:String,validator:function(e){return C.l.indexOf(e)>=0||void 0===e}},isRumTrackingOn:{type:Boolean,default:!1}},mounted:function(){this.isRumTrackingOn&&this.$el&&"function"==typeof this.$el.setAttribute&&(0,H.N)(this.stateId,{isAsyncWidget:!!this.asyncType,isFirstMount:!0})}},F={name:"BaseWidget",inheritAttrs:!1,data:function(){return{widgetState:this.widgetInitialState}},mixins:[S,M,A,G,E.default,B,$,V],props:m.t,inject:{$informPaginatorMounted:{default:null},$countPaginatorWidgets:{default:null},isMobile:{default:!1},isAccessibilityMode:{default:!1},useWidgetRender:{default:!1}},beforeMount:function(){this.$countPaginatorWidgets&&this.$countPaginatorWidgets(this.stateId)},mounted:function(){var e=this,t=this.$el;t&&"function"==typeof t.setAttribute&&t.setAttribute("data-widget",this.componentName),this.$nextTick((function(){e.$informPaginatorMounted&&e.$informPaginatorMounted(e.stateId,e.$el)}))},created:function(){var e,t=this,n=this,r=n.widgetInitialState,o=n.stateId,c=n.asyncType;r&&Object.keys(r).length&&h.registry.use(v.ClientWidgetStates).next(((e={})[o]=r,e),{silent:!0}),this.stateSubscription=h.registry.use(v.ClientWidgetStates).onNextState((function(e){null!==e&&null!=e[o]&&e[o]!==t.widgetState&&t.setWidgetState(e[o])}));try{(0,f.zQ)(r,o,void 0!==c)}catch(e){this.logError(e)}},beforeDestroy:function(){this.stateSubscription&&this.stateSubscription.unsubscribe()},computed:{groupStatePath:function(){return[this.vertical,this.componentName].join(".")}},methods:{destroyWidget:function(){return(0,c.__awaiter)(this,void 0,void 0,(function(){return(0,c.__generator)(this,(function(e){switch(e.label){case 0:return[4,(0,y.useComposerStore)(this).removeWidgetByStateId({stateId:this.stateId})];case 1:return e.sent(),[2]}}))}))},setWidgetState:function(e){var t;try{var n=(0,f.V0)(e);h.registry.use(v.ClientWidgetStates).next(((t={})[this.stateId]=n,t),{silent:!0}),this.widgetState=n,void 0===this.asyncType&&this.$emit("state::loaded")}catch(e){this.logError(e)}},setWidgetStateValue:function(path,e){var t;return h.registry.use(v.ClientWidgetStates).next(((t={})[this.stateId]=this.widgetState,t),{silent:!0}),(0,_.vueSet)(this.widgetState,path,e)},setWidgetPlaceholders:function(e,t){return(0,c.__awaiter)(this,void 0,void 0,(function(){return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return[4,(0,y.useComposerStore)(this).setWidgetPlaceholderByStateId({stateId:this.stateId,placeholder:{name:e,widgets:t}})];case 1:return n.sent(),[2]}}))}))},notEmptyPlaceholder:function(e){var t=(0,f.ph)(this.placeholders,e);return!!t&&Boolean(t.widgets.length)},getLoggerParams:function(){var e=this;return{widget:e.componentName,stateId:e.stateId,vertical:e.vertical,error:l()(this,"widgetState.error")}},logError:function(e){var t=this.getLoggerParams();e.mergePayload({widget:t.widget,stateId:t.stateId,error:t.error,vertical:t.vertical}),this.$logger.error(e)}}},z=o().extend(F)},"4034b":function(e,t,n){n.r(t),n.d(t,{getFirstBaseInstance:function(){return o}});var r=n("9235f");function o(e){return e instanceof r.default?e:null!=e.$parent?o(e.$parent):null}},"5960f":function(e,t,n){n.r(t);var r=n("6a811"),o=n("2a740");t.default={name:"ComposerLoadingMixin",mixins:[(0,o.composerStateMixin)({loading:function(e){return e._get("shared.loading")}})],data:function(){return{isMounted:!1}},mounted:function(){this.isMounted=!0},computed:{isComposerLoading:function(){return this.loading===r.Zs&&this.isMounted}}}},b4a25:function(e,t,n){n.r(t);var r=n("13f4a");function o(e,t,n){if(n.once)this.composerRouter.once(e,t);else{var r=this.composerRouter.on(e,t);r&&this.unsubscribes.push(r)}}t.default={name:"ComposerRouterMixin",beforeCreate:function(){this.composerRouter=r.Router.getInstance(),this.unsubscribes=[]},computed:{routeLoading:function(){return this.composerRouter.loading},routeStatus:function(){return this.composerRouter.status},routeModalOptions:function(){return this.composerRouter.contextOptions}},methods:{beforeRouteLeave:function(e,t){void 0===t&&(t={once:!1}),o.call(this,r.EContextHook.BEFORE_ROUTE_LEAVE,e,t)},afterRouteEnter:function(e,t){void 0===t&&(t={once:!1}),o.call(this,r.EContextHook.AFTER_ROUTE_ENTER,e,t)},beforeUrlChange:function(e,t){void 0===t&&(t={once:!1}),o.call(this,r.EContextHook.BEFORE_URL_CHANGE,e,t)},afterUrlChange:function(e,t){void 0===t&&(t={once:!1}),o.call(this,r.EContextHook.AFTER_URL_CHANGE,e,t)},startRouteLoading:function(e,t){void 0===t&&(t={once:!1}),o.call(this,r.EContextHook.START_ROUTE_LOADING,e,t)},endRouteLoading:function(e,t){void 0===t&&(t={once:!1}),o.call(this,r.EContextHook.END_ROUTE_LOADING,e,t)}},beforeDestroy:function(){if(this.unsubscribes.length){for(var i=0;i<this.unsubscribes.length;i++){var e=this.unsubscribes[i];e&&e()}this.unsubscribes=[]}}}},"78a81":function(e,t,n){function r(e){return void 0===e&&(e=10),{data:function(){return{displayPriority:0}},mounted:function(){this.runDisplayPriority()},methods:{runDisplayPriority:function(){var t=this,n=function(){requestAnimationFrame((function(){t.displayPriority++,t.displayPriority<e&&n()}))};n()},defer:function(e){return this.displayPriority>=e}}}}n.r(t),n.d(t,{Defer:function(){return r}})},"1bc9d":function(e,t,n){n.r(t);var r=n("bdde6");t.default={inheritAttrs:!1,computed:{showWidget:function(){return!this.hasWidgetError&&(Object.keys(this.widgetState).length||this.asyncType===r.m.TYPE_ON_VIEWPORT)},hasWidgetError:function(){return this.widgetState.error}},inject:{$isMobile:{from:"isMobile",default:!1}}}},"77abf":function(e,t,n){n.r(t),n.d(t,{default:function(){return D}});var r=n("98942"),o=n("cd940"),c=n("2ef7a"),d=n("45943"),l=n("4034b"),f={name:"ErrorCapture",props:{widget:{type:[Function,String],required:!0},widgetProps:{type:Object,default:function(){return{}}},platform:{type:String,default:""}},data:function(){return{error:!1}},computed:{errorCheckWidget:function(){return this.error?"div":this.widget}},errorCaptured:function(e,t){var n=(0,l.getFirstBaseInstance)(t),f=null!==n&&"function"==typeof n.getLoggerParams,h=function(e,t){var n=c._.UNKNOWN_WIDGET_ERROR;return t||(n=c._.UNCORRECT_WIDGET),e.message&&(n=c.X8.WIDGET_RENDER_ERROR),e.zone?(0,o.__assign)((0,o.__assign)({},n),{zone:e.zone}):n}(e,f),v=e instanceof r.WidgetError?e:new r.WidgetError(h);if(v.mergePayload({error:e.message,stack:e.stack,component:t.$options.name}),e instanceof d.b&&v.mergePayload(e.getPayload()),f){var _=n.getLoggerParams();v.mergePayload({widget:_.widget,stateId:_.stateId,vertical:_.vertical})}return this.$logger.error(v),this.error=!0,!1}},h=n("a3a0d"),v=n.n(h),_=v()(f,(function(){var e=this,t=e.$createElement;return(e._self._c||t)(e.errorCheckWidget,e._g(e._b({tag:"component"},"component",e.widgetProps,!1),e.$listeners))}),[],!1,null,null,null).exports,y=n("624b5"),m=n("ea66f"),E=n("d0250"),w=function(e,t,n,d,l,f,h,v){void 0===h&&(h=!1);var _=(0,y.RG)(n),S=(0,y.RG)(d),T=t.content||{},content=T[_]?T[_][S]:void 0,component=content,O=e.state._get("experimentsConfig.enableVersionFallbackLogs");if(!content&&!h&&(0,m.J5)(_,e)&&!(0,m.ds)(_))return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(0,m.Kl)(_,e,t).then((function(){return w(e,t,_,S,l,f,!0,v).apply(void 0,(0,o.__spread)(n))}))};if("function"==typeof content)return content;if("object"!=typeof content){if((0,m.J5)(_,e)){var R=new r.WidgetError(c.jn.WIDGET_NOT_FOUND);throw R.setPayloadValue("disallowNames",[S]),R}throw new E.LoggerError(c._.WRONG_WIDGET_CONTENT)}if(content.desktop&&content.mobile&&(component=component[f]),"function"==typeof component)return component;if(!component.versions)throw new E.LoggerError(c._.WRONG_WIDGET_VERSION);var I=Object.keys(component.versions);if(I.length&&!component.versions[l]){if(O&&(v.info({message:"no such widget version in composer-components, fallback to default",payload:{name:d,vertical:n,version:l,platform:f},zone:"composer-components",forceMode:!0}),I.includes("1")))return component.versions[1];throw new E.LoggerError(c._.WRONG_WIDGET_VERSION)}return component.versions[l]},S=n("956ab"),T=n.n(S),O={};var R=n("b0b6b"),I=n("3ce95");function C(e){var t={};if(e.stateId){var n=document.getElementById("state-"+e.stateId),r=n&&n.getAttribute("data-state"),o=T()(R.registry.use(I.ClientWidgetStates),"value["+e.stateId+"]")||r;"string"==typeof o&&(o=JSON.parse(o)),t=o||{}}return t}var k=n("ecd18"),A=n("2a740"),N=n("78a81"),x={name:"WidgetDisallowMixin",methods:{checkDisallow:function(e){void 0===e&&(e=[]);var t=this.$config.get("useDisallowWidgets");if(e.length&&t&&"true"!==(0,A.useComposerStore)(this).state._get("o3Params.x-o3-disable-placements")){var n=new r.WidgetError(c.kE.WIDGET_CANT_BE_RENDERED);this.$logger.error(this._enhanceError(n,e,"disallow"))}},checkNonexistent:function(e){if(void 0===e&&(e=[]),e.length){var t=new r.WidgetError(c.jn.WIDGET_NOT_FOUND);this.$logger.error(this._enhanceError(t,e,"nonexist"))}},_enhanceError:function(e,t,n){for(var r,o=[],c=[],i=0;i<t.length;i++){var d=t[i];o.push(d.name),c.push(d.id)}var component=T()(this.$parent,"$vnode.componentOptions.tag");return e.mergePayload(((r={component:component})[n+"Names"]=o,r[n+"Ids"]=c,r.placeholderName=this.placeholderName,r)),e}}},L={name:"PlaceholderRenderMixin",data:function(){return{isServer:Boolean(!1)}},mixins:[(0,N.Defer)(),x,(0,A.composerStateMixin)({platform:function(e){return e._get("client.platform","undefined")},disableLayoutPath:function(e){return e._get("experimentsConfig.disableLayoutPath")}})],inject:{isMobile:{default:!1},layoutPath:{default:""}},computed:{placeIndex:function(){var e=this.placeholders,t=this.place;if(!Array.isArray(e))return-1;for(var i=0;i<e.length;i++)if(e[i].name===t)return i;return-1},widgets:function(){for(var e=[],t=this.placeholders[this.placeIndex]||{},n=t.widgets&&t.widgets.length?t.widgets:[],r=0;r<n.length;r++)e.push(Object.assign({},n[r],{index:r}));return e},placeholderName:function(){return[this.type,this.place].join(".")},replaceLayoutPath:function(){if(this.disableLayoutPath)return this.placeholderName;var path=this.layoutPath,e=this.placeIndex;return e<0?path:path+"["+e+"]"},renderingComponents:function(){var e=function(e,t,n,r,c){void 0===n&&(n=[]);for(var d={allowed:[],disallowed:[],nonexistent:[]},l=e.state._get("o3Params.x-o3-disable-placements"),i=0;i<n.length;i++){var component=(0,o.__assign)({},n[i]),f=(0,y.RG)(component.vertical),h=(0,y.Si)(f,component.component);component.name=h,component.index=i,O[h]||(O[h]={}),!O[h][t]&&c[f]&&(O[h][t]=(c[f][h]||[]).indexOf(t)>-1);var v=void 0;v=l||O[h][t]?"allowed":"disallowed",void 0===T()(r,f+"."+h)&&(v=(0,m.J5)(f,e)&&!(0,m.ds)(f)?"allowed":"nonexistent"),d[v].push(component)}return d}((0,A.useComposerStore)(this),this.placeholderName,this.widgets,k.Z.content||{},k.Z.places||{}),t=e.allowed,n=e.disallowed,r=e.nonexistent;return this.checkDisallow(n),this.checkNonexistent(r),t}},methods:{createComponent:function(component){try{var e=this.isMobile?"mobile":"desktop",t=component.version&&component.version.toString()||"1";return w((0,A.useComposerStore)(this),k.Z,component.vertical,component.name,t,e,!1,this.$logger)}catch(e){return this.$logger.error(e),"div"}},getWidgetProps:function(e){var t=e.params,n=(0,A.useComposerStore)(this),r={};return"string"==typeof t?r=JSON.parse(t):"object"==typeof t&&(r=Object.assign({},t)),Object.assign(r,{componentName:e.component,asyncType:e.asyncType,asyncHash:e.asyncData,isRumTrackingOn:e.isRumTrackingOn,isTrackingOn:e.isTrackingOn,isTrackView:e.isTrackView,vertical:e.vertical,stateId:e.stateId,version:e.version,placeholders:e.placeholders,root:e.root,widgetToken:e.widgetToken,trackingInfoProp:e.widgetTrackingInfo,trackingName:n.state._get("debug.widgets["+e.stateId+"].trackingName",""),widgetsStatisticsTrackerMetrics:e.widgetsStatisticsTrackerMetrics,widgetInitialState:C(e)})}}},P={components:{ErrorCapture:_},mixins:[L],props:{placeholders:{type:Array,default:function(){return[]}},place:{type:String,default:"default"},tagName:{type:String,default:"div"}}},template=v()(P,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isServer?e.placeIndex<0?n(e.tagName,{tag:"component",attrs:{"data-widget-disallow":e.replaceLayoutPath}}):n(e.tagName,{tag:"component",attrs:{"data-replace-layout-path":e.replaceLayoutPath}},[e._v("#CONTENT#")]):n(e.tagName,{tag:"component"},[e._l(e.renderingComponents,(function(t){return[e.defer(t.defer||0)?n("ErrorCapture",e._g({key:""+t.stateId,attrs:{widget:e.createComponent(t),"widget-props":e.getWidgetProps(t),platform:e.platform}},e.$listeners)):e._e()]}))],2)}),[],!1,null,null,null).exports,D=function(e){return{extends:template,data:function(){return{type:e}}}}},"2a740":function(e,t,n){n.r(t),n.d(t,{composerStateMixin:function(){return _},useComposerStore:function(){return d}});var r=n("cd940"),o=n("ee268"),c=n.n(o);function d(e){return e.$composerStore}function l(e,t){e.$logger.error({exception:t,zone:"composer-store"})}var f=function(e){return Array.isArray(e)?Array.from(e):"object"==typeof e&&e?Object.assign({},e):e},h="__composerStateMixinInstanceInternals",v=function(e){return e[h]};function _(e){var t=Object.entries(e);return{beforeCreate:function(){this[h]={data:c().observable({}),initializedKeys:new Set,subscription:void 0,subscriberFirstRun:!0}},computed:t.reduce((function(e,t){var n=(0,r.__read)(t,2),o=n[0],h=n[1];return e[o]=function(){var e=v(this);if(!e.initializedKeys.has(o))try{c().set(e.data,o,f(h.call(this,d(this).state))),e.initializedKeys.add(o)}catch(e){l(this,e)}return e.data[o]},e}),{}),created:function(){var e=this;var n=v(this);n.subscription=d(this).onNextState((function(o){n.subscriberFirstRun?n.subscriberFirstRun=!1:t.forEach((function(t){var d=(0,r.__read)(t,2),h=d[0],v=d[1];try{c().set(n.data,h,f(v.call(e,o)))}catch(t){l(e,t)}}))}))},beforeDestroy:function(){var e=v(this);e.subscription&&e.subscription.unsubscribe()}}}},e3503:function(e,t,n){n.r(t),n.d(t,{getVueClipboardInstalled:function(){return o},setVueClipboardInstalled:function(){return c}});var r=!1,o=function(){return!!r},c=function(){r=!0}},"9434f":function(e,t,n){n.r(t),n.d(t,{vueSet:function(){return d}});var r=n("ee268"),o=n.n(r),c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(\.|\[\])(?:\4|$))/g,d=function(e,path,t){var n=Array.isArray(path)?path:function(e){if("number"==typeof e)return[e];var t=[];return e.replace(c,(function(e,n,r,o){return t.push(r?o:void 0!==n?Number(n):e),t[t.length-1]})),t}(path),r=n.shift();if(!n.length)return o().set(e,r,t);if(!Object.prototype.hasOwnProperty.call(e,r)||null===e[r]){var l=n.length>=1&&String(n[0]).match(/^\d+$/)?[]:{};o().set(e,r,l)}return d(e[r],n,t)}},"624b5":function(e,t,n){n.d(t,{RG:function(){return c},Si:function(){return o}});var r={};function o(e,t){void 0===e&&(e=""),void 0===t&&(t="");var n=c(e),o=c(t);return r[n]||(r[n]={}),r[n][o]||(r[n][o]=o),r[n][o]}function c(e){return void 0===e&&(e=""),e.charAt(0).toLowerCase()+e.substr(1)}},"07a95":function(e,t,n){n.d(t,{j:function(){return d},A:function(){return l}});var r=n("cd940"),o=["block-horizontal.default","wallpaper.default","block-vertical.default","grid-column.default","container.default","paginator.default","sticky-container.top","sticky-container.middle","sticky-container.bottom","sticky-container.default","shop-in-shop-container.default","pdp.grid.default","pdp.containerFixed.default","pdp.tabs","pdp.default","wrapper.default"],c=n("624b5");function d(e,t,map){var n=(0,c.RG)(e);Object.entries(t).forEach((function(e){var t=(0,r.__read)(e,2),d=t[0],component=t[1],content=component.content,l=(0,r.__rest)(component,["content"]),f=(0,c.RG)(d);map.content[n]||(map.content[n]={}),map.params[n]||(map.params[n]={}),map.places[n]||(map.places[n]={}),map.content[n][f]=content,map.params[n][f]=l,map.places[n][f]=function(e){var t=e.places||[];return t.length?e.extendPlaces?(0,r.__spread)(o,t):t:o}(l)}))}function l(e,map){Object.entries(e).forEach((function(e){var t=(0,r.__read)(e,2),n=t[0],o=t[1].widgets;d((0,c.RG)(n),o,map)}))}},ea66f:function(e,t,n){n.d(t,{J5:function(){return m},Kl:function(){return w},dT:function(){return T},ds:function(){return E},pm:function(){return S},qI:function(){return O}});var r=n("cd940"),o=n("07a95"),c=n("3575a"),d=n("19cb3"),l=n("63d21"),f={},h=(0,l.g)();function v(e,map){var t=h.composerComponents[e];"object"==typeof t&&((0,o.j)(e,t,map),h.composerComponents[e]={})}function _(e,t){"function"!=typeof window.__getPublicPath[e]&&(window.__getPublicPath[e]=function(){return t.publicPath})}function y(e){return e.state._get("verticalInfo",{})}function m(e,t){return e in y(t)}function E(e){return!!h.composerComponents[e]}function w(e,t,map){return(0,r.__awaiter)(this,void 0,Promise,(function(){var o,l,h,m;return(0,r.__generator)(this,(function(r){if(f[e])return[2,f[e]];if(!(o=y(t)[e]))return[2,void 0];if(!o.publicPath)throw(l=new c.FederationLoggerError(d.r.PUBLIC_PATH_IS_MISSING)).setPayloadValue("vertical",e),l;if(!o.initial||!o.initial.length)throw(l=new c.FederationLoggerError(d.r.INITIAL_ASSETS_ARE_MISSING)).setPayloadValue("vertical",e),l;return _(e,o),h=o.initial.map((function(e){return o.publicPath+e})),m=n.lma(h,"log").then((function(){v(e,map)})).finally((function(){delete f[e]})),f[e]=m,[2,m]}))}))}function S(map){Object.keys(h.composerComponents).forEach((function(e){v(e,map)}))}function T(e){Object.entries(y(e)).forEach((function(e){var t=(0,r.__read)(e,2);_(t[0],t[1])}))}function O(e,map){return(0,r.__awaiter)(this,void 0,Promise,(function(){var t,n,o,c,d;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return t=new Set,Object.keys(y(e)).forEach((function(e){E(e)||t.add(e)})),n=function(e,r){return void 0===r&&(r=new Set),e.forEach((function(e){t.has(e.vertical)&&r.add(e.vertical),e.placeholders&&e.placeholders.length&&e.placeholders.forEach((function(e){e.widgets&&e.widgets.length&&n(e.widgets,r)}))})),r},o=e.state._get("layout",[]),(c=n(o)).size?(d=[],c.forEach((function(t){d.push(w(t,e,map))})),[4,Promise.allSettled(d)]):[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))}},"7fefd":function(e,t,n){function r(e){var t=e.shared,n=e.layoutTrackingInfo;t&&"string"==typeof t&&(e.shared=JSON.parse(t)),n&&"string"==typeof n&&(e.layoutTrackingInfo=JSON.parse(n))}n.d(t,{tf:function(){return r}})},aa5b4:function(e,t,n){n.d(t,{V0:function(){return l},ph:function(){return f},zQ:function(){return d}});var r=n("2ef7a"),o=n("d0250"),c=n("98942");function d(e,t,n){if((null==e||"object"!=typeof e)&&(t&&!n))throw new o.LoggerError(r._.WIDGET_STATE_NOT_FOUND)}function l(e){switch(typeof e){case"string":return JSON.parse(e);case"object":if(e)return Object.assign({},e);default:throw new o.LoggerError(r._.WIDGET_WRONG_SET_STATE)}}function f(e,t){if(void 0===e&&(e=[]),!Array.isArray(e)){var n=new c.WidgetError(r._.PLACEHOLDERS_MUST_BE_ARRAY);throw n.mergePayload({invalidType:typeof e,invalidValue:e?JSON.stringify(e):""}),n}return e.find((function(e){return e.name===t}))||{name:"",widgets:[]}}},"6670a":function(e,t,n){n.d(t,{z:function(){return r}});var r={requests:5,debug:4,info:3,warning:2,error:1,critical:0}},a2d74:function(e,t,n){n.d(t,{w:function(){return o}});var r=Symbol("__isService"),o=function(e){this.__isService=r,this.container=e.container}},a2b82:function(e,t,n){n.d(t,{s:function(){return r}});var r=function(){function e(e){this.message=e,this.name="Error";var t=new Error;this.stack=t.stack||""}return e.prototype.toString=function(){return this.message+this.stack},e}()},45943:function(e,t,n){n.d(t,{b:function(){return o}});var r=n("cd940"),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.payload={},t}return(0,r.__extends)(t,e),t.prototype.setPayloadValue=function(e,t){this.payload[e]=t},t.prototype.mergePayload=function(e){return Object.assign(this.payload,e),this},t.prototype.getPayload=function(){return this.payload},t.prototype.toString=function(){return this.message+" with payload: "+JSON.stringify(this.getPayload())+" "+this.stack},t.prototype.getDebugInfo=function(){return this.getPayload()},t}(n("a2b82").s)},"1f8a3":function(e,t,n){n.d(t,{R:function(){return c},V:function(){return d}});var r=n("956ab"),o=n.n(r),c=function(){return o()(navigator,"onLine",!0)?o()(navigator,"connection.saveData")?"Save-Data is enabled":/2g/.test(o()(navigator,"connection.effectiveType"))?"network conditions are poor":null:"device in offline mode"},d=function(e,t){var n=c();if(n)return Promise.reject(new Error("Cannot load resource "+e+": "+n));var link,r,d=new URL(e,location.href).toString();return link=document.createElement("link"),(r=o()(link,"relList"))&&(r.supports("prerender")||r.supports("prefetch"))&&"xhr"!==t?function(e,t){return new Promise((function(n,r){var link=document.createElement("link"),c=o()(link,"relList");link.rel=c&&c.supports("prerender")&&!t?"prerender":"prefetch",link.href=e,link.onload=function(){document.head.removeChild(link),n(e)},link.onerror=function(){document.head.removeChild(link),r(new Error("Failed to load resource "+e))},document.head.appendChild(link),"prerender"===link.rel&&n(e)}))}(d,Boolean(t)):function(e){return new Promise((function(t,n){var r=new XMLHttpRequest;r.open("GET",e,r.withCredentials=!0),r.setRequestHeader("x-o3-prefetch","true"),r.onload=function(){200===r.status?t(e):n(new Error("Failed to load resource "+e+". Request status: "+r.status))},r.onerror=function(){return n(new Error("Failed to load resource "+e))},r.send()}))}(d)}},f3a3e:function(e,t,n){n.d(t,{_:function(){return L}});var r=n("cd940"),o=n("956ab"),c=n.n(o),d=n("c9e1e"),l=n("d0250"),f=n("a70af"),h=n("7fefd"),v=n("6a811"),_="\x3c!---json_separator---\x3e",y=["layout","layoutModal"],m=["get","post"];function E(){return v.mt}function w(e,t){return void 0===e&&(e=""),(0,r.__awaiter)(this,void 0,void 0,(function(){var o,c,d;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),o=JSON.parse(e),c=[],t&&o.critical&&o.critical.length?(o.critical.forEach((function(e){c.push(n.e(e))})),[4,Promise.all(c)]):[3,2];case 1:r.sent(),r.label=2;case 2:return t&&o.assets&&o.assets.length&&o.critical.forEach((function(e){n.e(e)})),[3,4];case 3:return d=r.sent(),console.log(d),[3,4];case 4:return[2]}}))}))}function S(e,t){return void 0===t&&(t=!1),(0,r.__awaiter)(this,void 0,Promise,(function(){var n,o,c,d,l,f,h,v;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:n=e.getReader(),o=new TextDecoder("utf-8"),c="",r.label=1;case 1:return[4,n.read()];case 2:return d=r.sent(),l=d.value,f=d.done,h=o.decode(l),(v=h.indexOf(_))>0?[4,w(c+h.substr(0,v),t)]:[3,4];case 3:return r.sent(),c=h.substr(v+_.length),[3,5];case 4:c+=h,r.label=5;case 5:return f?[3,6]:[3,1];case 6:return[2,JSON.parse(c)]}}))}))}var T=n("54925"),O=n("3ce95"),R=n("b0b6b"),I=n("d0691"),C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.serviceName="root",t.servicePath="/",t.serviceVersion="",t}return(0,r.__extends)(t,e),t.prototype.default=function(e,t){return this.fetch({fromRoot:!0,responseType:"stream",method:e,path:t.redirectUrl},t)},t}(n("172b0").AbstractApiService),k=n("46296"),A=n("2ef7a"),N=n("acf56"),x=n("c0e0f"),L=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.promises={},t}return(0,r.__extends)(t,e),t.prototype.setComposerLayout=function(e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,3,4]),t={pageData:e.pageData,widgetsData:e.widgetsData},[4,this.updateComposerLayout({params:t,replace:!0})];case 1:return[2,r.sent()];case 2:return n=r.sent(),this.container.resolve("Logger").error({exception:n,zone:"composer-actions"}),[2,void 0];case 3:return R.registry.use(k.r).emit("SET_COMPOSER_LAYOUT"),[7];case 4:return[2]}}))}))},t.prototype.getComposerLayout=function(e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t,n,o,l,f,h,data,_,y,m,w,S,T,O,R;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:t=this.container.resolve("ComposerStore"),r.label=1;case 1:return r.trys.push([1,3,,4]),n=e.url,o=e.payload,l=e.method,f=e.forbidRedirect,h=e.context,[4,this.getParsedApiResponse({url:n,payload:o,method:l,context:h})];case 2:return(data=r.sent())&&"object"==typeof data?(_=c()(data,"pageInfo.url"),y=t.state._get("client.version"),m=c()(data,"client.version"),w=c()(data,"browser.useSpa"),S=c()(data,"client.jsonVersionChanged"),T=y&&m&&y!==m,f||!T&&!S?[2,data]:(w||(0,x.tj)({action:"CLEAR_SW_CACHE",cacheNames:d.ECacheNames.PAGINATOR}),this.container.resolve("ComposerRouter").redirect(_),[2,void 0])):[2,!1];case 3:return O=r.sent(),(R=E())!==v.Hx&&this.container.resolve("Logger").error({message:A._.COMPOSER_FETCH_LAYOUT,exception:O,zone:"composer-actions"}),t.replaceStateByPath({path:"shared.loading",value:R}),[2,R];case 4:return[2]}}))}))},t.prototype.getParsedApiResponse=function(e){return(0,r.__awaiter)(this,void 0,Promise,(function(){var t,n,o,c,d,l,v,_,y,E,w,T,O,k,A,data;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:if(t=e.url,n=e.method,o=void 0===n?"get":n,c=e.payload,d=void 0===c?{}:c,l=e.redirectUrl,v=e.needRedirect,_=void 0===v||v,y=e.context,this.promises[y]&&this.promises[y].cancel(),!m.includes(o))throw(E=new f.ApiLoggerError(N.b.COMPOSER_API_METHOD_NOT_ALLOWED)).setPayloadValue("method",o),E;return w=this.container.resolve("Config"),T=w.get("enableParticleSpa")?"jsonSpa":"json",O=w.get("useSpaPrefetch"),l?(k={url:t,payload:d,redirectUrl:l},this.promises[y]=R.registry.use(C).default(o,k)):(A=T+o[0].toUpperCase()+o.slice(1),this.promises[y]=R.registry.use(I.ComposerService)[A]({url:t,payload:d})),[4,this.promises[y]];case 1:return data=r.sent(),this.promises[y]=null,data instanceof ReadableStream?[4,S(data,O)]:[3,3];case 2:data=r.sent(),r.label=3;case 3:return data&&"object"==typeof data?data.spaRedirect&&"string"==typeof data.spaRedirect?[2,this.getParsedApiResponse({redirectUrl:data.spaRedirect,method:o,needRedirect:_,context:y})]:Boolean(data.redirect&&"string"==typeof data.redirect)&&_?(window.location.assign(data.redirect),[2,!1]):(void 0===data.nextPage&&(data.nextPage=""),(0,h.tf)(data),[2,data]):[2,!1]}}))}))},t.prototype.fetchComposerLayout=function(e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t,n,o,c,d,l,f,data,h,_;return(0,r.__generator)(this,(function(y){switch(y.label){case 0:t=this.container.resolve("ComposerStore"),y.label=1;case 1:return y.trys.push([1,3,,4]),n=e.url,o=e.mapper,c=e.payload,d=e.method,l=e.forbidRedirect,f=e.context,t.replaceStateByPath({path:"shared.loading",value:v.Zs}),[4,this.getComposerLayout({url:n,payload:c,method:d,forbidRedirect:l,context:f})];case 2:return(data=y.sent())===v.Hx?[2,v.Hx]:data&&"object"==typeof data?(t.replaceStateByPath({path:"shared.loading",value:v.sW}),data.shared=Object.assign({},t.state._get("shared",{}),data.shared),"object"==typeof data.browser&&(data.browser.cspNonce=t.state._get("browser.cspNonce")),o&&"function"==typeof o&&(data=o(data)),h=data.widgetStates,[2,{pageData:(0,r.__rest)(data,["widgetStates"]),widgetsData:h}]):[2,!1];case 3:return _=y.sent(),this.container.resolve("Logger").error({exception:_,zone:"composer-actions"}),t.replaceStateByPath({path:"shared.loading",value:E()}),[2,!1];case 4:return[2]}}))}))},t.prototype.updateComposerLayout=function(e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t,n,o,c,d,f,h,v,_,m,E,w,S,T,I,C,N,x,L,P,D;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,4,5]),t=e.params,n=e.afterMergeState,o=e.beforeMergeState,c=e.context,d=void 0===c?"page":c,f=e.replace,h=void 0!==f&&f,v=t.url,_=t.mapper,m=t.payload,E=t.method,w=t.pageData,S=t.widgetsData,T=t.forbidRedirect,C=S,(I=w)?[3,2]:[4,this.fetchComposerLayout({url:v,mapper:_,payload:m,method:E,forbidRedirect:T,context:d})];case 1:(N=r.sent())&&"object"==typeof N&&(I=N.pageData,C=N.widgetsData),r.label=2;case 2:if(!I||Object.keys(I).length<1)throw(x=new l.LoggerError(A._.COMPOSER_EMPTY_DATA)).setPayloadValue("invalidType",null===I?"null":typeof I),x;return L=y.reduce((function(e,t){return e[t]=I[t],e}),{}),h||y.forEach((function(e){return delete I[e]})),"function"==typeof o&&o(L,I),P=this.container.resolve("ComposerStore"),h?(P.setRootState(I),window.__NUXT__.state=P.getStateObject()):P.mergeRootState(I),null!=C&&R.registry.use(O.ClientWidgetStates).next(C,{replace:h}),"function"==typeof n&&n(L,I),[2,I];case 3:return D=r.sent(),this.container.resolve("Logger").error({exception:D,zone:"composer-actions"}),[2,!1];case 4:return R.registry.use(k.r).emit("UPDATE_COMPOSER_LAYOUT"),[7];case 5:return[2]}}))}))},t.prototype.cancelPromise=function(e){var t=(void 0===e?{}:e).context,n=void 0===t?"page":t;this.promises[n]&&this.promises[n].cancel()},t}(T.AbstractActionsService)},46296:function(e,t,n){n.d(t,{r:function(){return o}});var r=n("cd940"),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.__extends)(t,e),t}(n("778e1").EventBus)},54925:function(e,t,n){n.r(t),n.d(t,{AbstractActionsService:function(){return c}});var r=n("cd940"),o=n("778e1"),c=(n("d0250"),n("a05dd"),function(e){function t(t){return e.call(this,t)||this}return(0,r.__extends)(t,e),t}(o.EventBus))},"172b0":function(e,t,n){n.r(t),n.d(t,{AbstractApiService:function(){return C}});var r=n("cd940"),o=n("956ab"),c=n.n(o),d=n("c9e1e"),l=n("a2d74"),f=n("c68ee"),h=function(){function e(e,t){void 0===e&&(e={}),this.fetchImpl=t.fetchImpl,this.defaultConfig=(0,r.__assign)((0,r.__assign)({},e),{headers:(0,r.__assign)({Accept:"application/json"},e.headers)})}return e.prototype.request=function(e){var t={credentials:"include",body:e.data,method:e.method,headers:(0,r.__assign)((0,r.__assign)({},this.defaultConfig.headers),e.headers)};return e=(0,r.__assign)((0,r.__assign)({},e),{timeout:e.timeout||this.defaultConfig.timeout}),this.getFetchPromise(t,e)},e.prototype.getFetchPromise=function(e,t){var n=this,o=new AbortController;e.signal=o.signal;return new f.CancelablePromise((function(c,d,l){return(0,r.__awaiter)(n,void 0,void 0,(function(){var n,f,h,v,data,_,y,m;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:l((function(){o.abort()})),r.label=1;case 1:return r.trys.push([1,6,,7]),[4,this.fetchImpl(t.url,e)];case 2:return(n=r.sent()).ok&&"stream"===t.responseType?[2,c({data:n.body,headers:n.headers})]:n.ok&&"blob"===t.responseType?[4,n.blob()]:[3,4];case 3:return f=r.sent(),[2,c({data:f,headers:n.headers})];case 4:return h=n.headers.get("content-type"),v=!h||h.includes("application/json"),[4,n.text()];case 5:if(data=r.sent(),_=n.headers instanceof Headers?Object.fromEntries(Array.from(n.headers)):{},y={data:data,headers:n.headers,status:n.status,aborted:o.signal.aborted,headersObject:_},v&&data.length>0)try{data=y.data=JSON.parse(data)}catch(e){return[2,d({error:e,response:y})]}return n.ok?[2,c({data:data,headers:n.headers})]:[2,d({response:y})];case 6:return m=r.sent(),[2,d({error:m,response:n})];case 7:return[2]}}))}))}))},e}(),v=n("a70af"),_=(n("d0250"),n("a05dd")),y=n("acf56"),m=n("c3a5a"),E=n("efb86"),w=n("5fca0"),S=n("dd365"),T=/\/_action(\/)?v2($|\?|\/)/,O=["post","put","delete"],R=function(e){var t=new v.ApiLoggerError(_.c.ACTION_METHOD_FALL);return e&&"object"==typeof e&&e.response&&(t=e.response),Promise.reject(t)},I=function(e,t){for(var n="",i=0;i<e.length;i++){var code=e.charCodeAt(i)+t;code>255&&(code-=256),n+=String.fromCharCode(code)}return n},C=function(e){function t(t,n){var r=(void 0===n?{}:n).requestController,o=e.call(this,t)||this;return o.serviceVersion=void 0,o._requestController=void 0,o.rejectWithResponse=R,o._requestController=r,o}return(0,r.__extends)(t,e),Object.defineProperty(t.prototype,"requestController",{get:function(){return this._requestController||(this._requestController=new h({timeout:this.container.resolve("Config").get("defaultApiTimeout"),headers:(0,E.d)(this.container.resolve("ComposerStore").state._get("client.platform"))},{fetchImpl:window.fetch.bind(window)})),this._requestController},enumerable:!1,configurable:!0}),t.prototype.callApi=function(e,t){var n=this,o=e.overrideServicePath||this.servicePath,c=(0,S.h4)(this.serviceVersion),d=e.fromRoot?(0,S.P$)():(0,S.Jl)(this.container.resolve("Config").get("apiGateway")),l=(0,S.iX)(o,d),f={url:(0,S.hy)(l,c,e.path),method:e.method,widgetToken:e.widgetToken,serviceName:this.serviceName,headers:{}},h=new Error;h.stack&&(f.stackTrace=h.stack.split("\n").slice(3).join("\n")),void 0!==e.timeout&&(f.timeout=e.timeout),(0,m._Z)(t)||"text/plain"===e.contentType||(t={}),t instanceof FormData||(f.headers["Content-Type"]="string"==typeof e.contentType?e.contentType:"application/json"),"string"==typeof e.responseType&&(f.responseType=e.responseType),O.includes(f.method.toLowerCase())?f.data=(0,S._d)(t,e.contentType):"object"==typeof t&&(f.url=(0,w.At)(f.url,t));var v=this.container.resolve("ComposerStore").state._get("browser",{});v.forceDesktop?f.url=(0,w.At)(f.url,{force_platform:"desktop"}):v.forceMobile&&(f.url=(0,w.At)(f.url,{force_platform:"mobile_theme"}));var _=this.requestController.request(f);return _.then((function(e){return(0,r.__awaiter)(n,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){try{this.onRequestSuccess(e,f)}catch(e){this.container.resolve("Logger").error({exception:e,zone:"api"})}return[2]}))}))})).catch((function(e){return(0,r.__awaiter)(n,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){try{this.onRequestError(e,f)}catch(e){this.container.resolve("Logger").error({exception:e,zone:"api"})}return[2]}))}))})),_},t.prototype.fetch=function(e,t){return this.callApi(e,t).then((function(e){return e.data}))},t.prototype.onRequestSuccess=function(e,t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,o,data,d,l,f,h,v,_,y,m=this;return(0,r.__generator)(this,(function(E){return(n=t.url.match(T))&&(o=e.data,e.data=o.data,e.originalData=o),data=e.data,d=e.headers,c()(data,"browser.useSpa")&&(l=c()(data,"pageInfo.url"),f=d.get("x-o3-trace-id"),this.container.resolve("ComposerStore").setComposerDebug({pageUrl:l,traceId:f})),n&&"object"==typeof e.originalData?(h=c()(e.originalData,"trackingInfo"),v=c()(e.originalData,"pageToken"),_=c()(e.originalData,"userToken"),e.originalData.error?(this.container.resolve("Logger").error({message:e.originalData.error,zone:"api"}),[2]):(h&&"object"==typeof h&&(y=t.widgetToken,Object.keys(h).forEach((function(e){if(h[e].actionType){var t={widgetToken:y,pageToken:v,userToken:_},n=h[e],o=n.actionType,c=n.sliceKey,d=n.key,l=n.nested,f=void 0===l?[]:l,E=(0,r.__assign)({actionType:o,cellToken:d,nested:f},t);"string"==typeof c&&c&&(E.sliceToken=c),m.container.resolve("Tracker").sendTrinityEvent(E)}}))),[2])):[2]}))}))},t.prototype.onRequestError=function(e,t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,o,l,f,h;return(0,r.__generator)(this,(function(r){if(n=e.response,o=y.b.ERROR_GETTING_RESPONSE,n)switch(f=Number(n.status),l=c()(n,"headersObject.x-o3-trace-id"),f){case 404:o=y.b.REQUEST_FAIL_NOT_FOUND;break;case 403:o=y.H.REQUEST_FAIL_ANTIBOT;break;case 401:o=y.b.REQUEST_FAIL_AUTH_ERROR;break;default:Object.assign(o,y.b.REQUEST_FAIL),o.value=""+o.value+f+" error"}return(h=new v.ApiLoggerError(o)).setLevel(d.ELoggerLogLevels.ERROR),h.mergePayload({serviceName:t.serviceName,requestUrl:t.url,method:t.method,uuid:window.btoa(I(encodeURIComponent(window.location.host),12)),traceId:l}),f&&h.setPayloadValue("statusCode",f),this.container.resolve("Logger").error(h),[2]}))}))},t}(l.w)},d91f7:function(e,t,n){n.r(t),n.d(t,{AbstractStoreService:function(){return v}});var r=n("cd940"),o=n("cb95c"),c=n("956ab"),d=n.n(c),l=n("a2d74"),f=(n("ac072"),n("d0250"),n("a05dd"),{_get:function(path,e){return d()(this,path,e)}}),h=function(e){return Object.assign(Object.create(f),e)},v=function(e){function t(t,n){void 0===n&&(n={});var r=e.call(this,t)||this;return r._stateSubject=void 0,r._noFreezeServerState=!1,r._serverInitialState=void 0,r._noFreezeServerState=n.noFreezeServerState,r}return(0,r.__extends)(t,e),Object.defineProperty(t.prototype,"stateSubject",{get:function(){return this._stateSubject||(this._stateSubject=new o.BehaviorSubject(this._getInitialState())),this._stateSubject},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return h(this.stateSubject.value)},enumerable:!1,configurable:!0}),t.prototype._getInitialState=function(){return h(this.getInitialState()||{})},t.prototype.onNextState=function(e){var t=this;return this.stateSubject.subscribe({next:function(n){try{var r=e(n);r&&"object"==typeof r&&"function"==typeof r.catch&&r.catch((function(e){t.container.resolve("Logger").error({exception:e,zone:"store"})}))}catch(e){t.container.resolve("Logger").error({exception:e,zone:"store"})}}})},t.prototype.pushState=function(e){var t=this.state,n=!1,r=e(t,(function(){n=!0}));n||(r=void 0===r?t:h(r),this.stateSubject.next(r))},t}(l.w)},"3ce95":function(e,t,n){n.r(t),n.d(t,{ClientWidgetStates:function(){return l}});var r=n("cd940"),o=n("d91f7"),c=n("2ef7a"),d=n("98942"),l=function(e){function t(t,n){void 0===n&&(n={});var r=e.call(this,t,n)||this;return r.value={},r}return(0,r.__extends)(t,e),t.prototype.getInitialState=function(){return this.value},t.prototype.next=function(e,t){var n=this;if(void 0===e&&(e={}),void 0===t&&(t={}),"object"!=typeof e){var r=new d.WidgetError(c._.CLIENT_WIDGET_STATES_INVALID_TYPE);throw r.setPayloadValue("invalidType",typeof e),r}t.replace?this.value=e:this.value=Object.assign(this.value,e),t.silent||this.pushState((function(){return n.value}))},t}(o.AbstractStoreService)},"778e1":function(e,t,n){n.r(t),n.d(t,{EventBus:function(){return d}});var r=n("cd940"),o=n("cb95c"),c=n("a2d74"),d=(n("d0250"),n("ac072"),n("a05dd"),function(e){function t(t){var n=e.call(this,t)||this;return n._eventsSubject=void 0,n._isDebugToolbarEnabled=!1,n._isDebugToolbarEnabled="true"===n.container.resolve("ComposerStore").state._get("o3Params.x-o3-debug-toolbar"),n._isDebugToolbarEnabled&&(window.$composerToolEvents=window.$composerToolEvents||[]),n}return(0,r.__extends)(t,e),Object.defineProperty(t.prototype,"eventsSubject",{get:function(){return this._eventsSubject||(this._eventsSubject=new o.Subject),this._eventsSubject},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"events$",{get:function(){return this.eventsSubject.asObservable()},enumerable:!1,configurable:!0}),t.prototype.emit=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.length<2?{name:e[0]}:{name:e[0],payload:e[1]};if(this.eventsSubject.next(n),this._isDebugToolbarEnabled)try{var r=Object.assign({},n,{time:Date.now()});window.$composerToolEvents.push(r),document.dispatchEvent(new CustomEvent("event-bus-emitted",{detail:r}))}catch(e){var o=this.container.resolve("Logger")||console;o.error({exception:e,zone:"event-bus"})}return this},t.prototype.listen=function(e,t){var n=this;var r=Array.isArray(e)?e:[e],c=this.eventsSubject.pipe((0,o.filter)((function(e){return r.includes(e.name)}))).subscribe({next:function(e){try{var r=t(e,c);r&&"object"==typeof r&&"function"==typeof r.catch&&r.catch((function(e){(n.container.resolve("Logger")||console).error({exception:e,zone:"event-bus"})}))}catch(e){(n.container.resolve("Logger")||console).error({exception:e,zone:"event-bus"})}}});return c},t}(c.w))},92960:function(e,t,n){n.r(t),n.d(t,{NotificationStore:function(){return o}});var r=n("cd940"),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.collectStickies=[],t}return(0,r.__extends)(t,e),t.prototype.getInitialState=function(){return{marginBottom:0}},t.prototype.addStickyComponent=function(e){this.collectStickies.push(e),this.pushState((function(t){t.marginBottom=e.offsetHeight}))},t.prototype.removeStickyComponent=function(e){for(var t=this,i=0;i<this.collectStickies.length;i++)if(this.collectStickies[i]===e){this.collectStickies.splice(i,1);break}this.pushState((function(e){if(t.collectStickies.length){var n=t.collectStickies.length-1;e.marginBottom=t.collectStickies[n].offsetHeight}else e.marginBottom=0}))},t}(n("d91f7").AbstractStoreService)},a70af:function(e,t,n){n.r(t),n.d(t,{ApiLoggerError:function(){return o}});var r=n("cd940"),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.__extends)(t,e),t.prototype.toLoggerMessage=function(){var e=this.getPayload();return{message:this.getType(),payload:{stack:e.stack,requestUrl:e.requestUrl,method:e.method,serviceName:e.serviceName,uuid:e.uuid,statusCode:e.statusCode,traceId:e.traceId}}},t}(n("d0250").LoggerError)},"3575a":function(e,t,n){n.r(t),n.d(t,{FederationLoggerError:function(){return o}});var r=n("cd940"),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.__extends)(t,e),t.prototype.toLoggerMessage=function(){var e=this.getPayload();return{message:this.getType(),payload:{stack:e.stack,vertical:e.vertical,assetSrc:e.assetSrc}}},t}(n("d0250").LoggerError)},d0250:function(e,t,n){n.r(t),n.d(t,{LoggerError:function(){return o}});var r=n("cd940"),o=function(e){function t(t){var n=e.call(this,t.value)||this;return n.type=t,n.level=void 0,t.zone&&(n.zone=t.zone),n}return(0,r.__extends)(t,e),t.prototype.setLevel=function(e){this.level=e},t.prototype.getLevel=function(){return this.level},t.prototype.toLoggerMessage=function(){return{message:this.type,payload:this.getPayload()}},t.prototype.getType=function(){return this.type},t}(n("45943").b)},98942:function(e,t,n){n.r(t),n.d(t,{WidgetError:function(){return o}});var r=n("cd940"),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.__extends)(t,e),t.prototype.toLoggerMessage=function(){var e=this.getPayload(),t=this.getNonallowedNames(e);return{message:this.getType(),payload:(0,r.__assign)((0,r.__assign)({stack:e.stack,widget:e.widget,placeholderName:e.placeholderName},t),{component:e.component,stateId:e.stateId,vertical:e.vertical,error:e.error,layout:e.layout,layoutModal:e.layoutModal,layoutNotify:e.layoutNotify,requestedStateId:e.requestedStateId,triggerMutation:e.triggerMutation,response:e.response,invalidType:e.invalidType,invalidValue:e.invalidValue})}},t.prototype.getNonallowedNames=function(e){return e.disallowNames?{disallowNames:e.disallowNames,disallowIds:e.disallowIds}:{nonexistNames:e.nonexistNames,nonexistIds:e.nonexistIds}},t}(n("d0250").LoggerError)},"2d370":function(e,t,n){n.r(t),n.d(t,{addDayjsSetupFn:function(){return o},getDatesLocalizedData:function(){return f},setDatesLocalizedDataLazyBuilder:function(){return l},setupDayjs:function(){return c}});var r=[],o=function(e){r.push(e)},c=function(e){r.forEach((function(t){return t(e)})),r.length=0},d={},l=function(e,t){d[e]?d[e].lazyBuilder=t:d[e]={lazyBuilder:t}},f=function(e){var data=d[e]||d.default||{};return!data.value&&data.lazyBuilder&&(data.value=data.lazyBuilder()),data.value||{}}},"09138":function(e,t,n){n.r(t),n.d(t,{getConfig:function(){return c},setConfig:function(){return o}});var r={wsdUrl:"",requestUrl:""};function o(e){Object.assign(r,e)}function c(){return Object.assign({},r)}},c6d85:function(e,t,n){n.r(t),n.d(t,{getConfig:function(){return l},setConfigProp:function(){return d},setDisableWebSocket:function(){return c}});var r={},o=!1;function c(e){o=e}function d(e,t){r[e]=t}function l(){return{config:r,reconnectionAttempts:4,disableWebSocket:o,isInfiniteReconnect:!1}}},d0691:function(e,t,n){n.r(t),n.d(t,{ComposerService:function(){return l}});var r=n("cd940"),o=n("172b0"),c=n("e4d72"),d=function(e){return 2===e?c.U:c.p},l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.serviceName="composer",t.servicePath=c.p,t}return(0,r.__extends)(t,e),t.prototype.jsonGet=function(e){var t=e.url,n=e.version,r=void 0===n?2:n,o=e.payload;return this.fetch({overrideServicePath:d(r),method:"get",path:"/page/json/v"+r+"?url="+encodeURIComponent(t)},o)},t.prototype.jsonPost=function(e){var t=e.url,n=e.version,r=void 0===n?2:n,o=e.payload;return this.fetch({overrideServicePath:d(r),method:"post",path:"/page/json/v"+r+"?url="+encodeURIComponent(t)},o)},t.prototype.jsonSpaGet=function(e){var t=e.url,n=e.payload;return this.fetch({responseType:"stream",method:"get",path:"/page/json/spa?url="+encodeURIComponent(t)},n)},t.prototype.jsonSpaPost=function(e){var t=e.url,n=e.payload;return this.fetch({responseType:"stream",method:"post",path:"/page/json/spa?url="+encodeURIComponent(t)},n)},t.prototype.widget=function(e){var path="/widget/json/v2";return e.stateId&&(path+="?widgetStateId="+e.stateId),this.fetch({method:"post",path:path},{asyncData:e.asyncHash,extraBody:e.extraBody,url:e.url,componentName:e.url})},t.prototype.suggestions=function(e){var text=e.text,t=e.currentUrl,n=e.version,r=void 0===n?2:n,o=e.searchUrl,path="/page/json/v"+r+"?";return path+="url="+(encodeURIComponent("/"+(void 0===o?"searchSuggestions":o)+"/?text=")+encodeURIComponent(encodeURIComponent(text))),t&&(path+=encodeURIComponent("&url=")+encodeURIComponent(t)),this.fetch({overrideServicePath:d(r),method:"get",path:path},{})},t.prototype.catalogFeedbackData=function(){return this.fetch({method:"post",path:"/page/json/v1?url="+encodeURIComponent("/catalogFeedbackData")})},t.prototype.actionPost=function(e){var t=e.name,data=e.data,n=e.widgetToken;return this.fetch({method:"post",path:"/_action/"+t,widgetToken:n},data).catch(this.rejectWithResponse)},t.prototype.actionGet=function(e){var t=e.name,n=e.query,r=e.widgetToken;return this.fetch({method:"get",path:"/_action/"+t,widgetToken:r},n).catch(this.rejectWithResponse)},t}(o.AbstractApiService)},b0b6b:function(e,t,n){n.r(t),n.d(t,{registry:function(){return c}});var r=n("a05dd"),o=n("d0250"),c=new(function(){function e(){this.services=new Map,this.container=void 0}return e.prototype.configure=function(e){this.container=e.container},e.prototype.use=function(e){var t=this.services.get(e);if(!t){if("function"!=typeof e||!e.prototype)throw new o.LoggerError(r.c.REGISTRY_USE_RECEIVED_NONCONSTRUCTOR);t=new e({container:this.container}),this.services.set(e,t)}return t},e}())},dd365:function(e,t,n){n.d(t,{Jl:function(){return d},P$:function(){return c},_d:function(){return v},h4:function(){return l},hy:function(){return h},iX:function(){return f}});var r=n("5fca0"),o={};function c(){return window.location.origin||(e=window.location,t=e.protocol,n=e.hostname,r=e.port,t+"//"+n+(r?":"+r:""));var e,t,n,r}function d(e,t){return void 0===e&&(e="api"),void 0===t&&(t=!1),o[e]&&!t||(o[e]=c()+"/"+e+"/"),o[e]}var l=function(e){return e?"/v"+e:""},f=function(e,t){var n="";return e.startsWith("http")?n+=e:n+=(0,r.Rz)(t)+(0,r.cK)(e,r.f7),n},h=function(e,t,n){return e+=(0,r.cK)(t),(e+=(0,r.cK)(n)).replace(/([^:])(\/{2,})/g,"$1/")},v=function(data,e){return void 0===e&&(e=""),"application/x-www-form-urlencoded"===e.toLowerCase()&&data&&"object"==typeof data?(0,r.Sm)(data):data instanceof FormData?data:"object"==typeof data?JSON.stringify(data):String(data)}},75736:function(e,t,n){n.d(t,{W:function(){return l}});var r=n("cd940"),o=n("13f4a"),c=n("10b82"),d=n("c3055"),l=function(e){if(void 0===e&&(e=""),e){var t=(0,r.__read)(e.split("#"),2),n=t[0],l=void 0===n?"":n,f=t[1],h=void 0===f?"":f,v=(0,d.E)(e),_=v.hash,y=v.offsetTop,m=(0,r.__read)(_?_.split("="):[],2)[1],E=void 0===m?"":m;if(l&&h&&(_||E)){var w,S=y?{offsetTop:y}:void 0;try{w=document.querySelector("#"+_)||document.querySelector('[data-widget-id="'+E+'"]')}catch(e){w=null}if(w)(0,c.X)(w,1e3,S),o.Router.getInstance().replace(l,{silent:!0})}}}},"7a484":function(e,t,n){function r(e){requestAnimationFrame((function(){var t=new MessageChannel;t.port1.onmessage=e,t.port2.postMessage(void 0)}))}function o(e,details){void 0===details&&(details={}),r((function(){performance.mark(e,{detail:{isAsyncWidget:details.isAsyncWidget||!1,isFirstMount:details.isFirstMount||!1,widgetRenderEnd:!0}})}))}n.d(t,{N:function(){return o},V:function(){return r}})},bdde6:function(e,t,n){var r;n.d(t,{l:function(){return o},m:function(){return r}}),function(e){e.TYPE_ON_VIEWPORT="onViewport",e.TYPE_ON_PAGE_LOAD="onPageLoad",e.TYPE_ON_PREFETCH_PAGE_LOAD="onPrefetchPageLoad"}(r||(r={}));var o=Object.values(r)},acf56:function(e,t,n){n.d(t,{H:function(){return c},b:function(){return o}});var r=n("59712"),o=(0,r.F)("api",{REQUEST_FAIL_NOT_FOUND:"Request failed with 404",REQUEST_FAIL_AUTH_ERROR:"Request failed with auth error",REQUEST_FAIL:"Request failed with ",ERROR_GETTING_RESPONSE:"Error while getting response",COMPOSER_API_METHOD_NOT_ALLOWED:"Wrong method name passed to getParsedApiResponse"}),c=(0,r.F)("api-403",{REQUEST_FAIL_ANTIBOT:"Request failed with 403 code"})},d4296:function(e,t,n){n.d(t,{R:function(){return r}});var r=(0,n("59712").F)("async-icons",{ICON_DOES_NOT_EXIST_SERVER:"Icon does not exist",INVALID_ICON_NAME:"Provided value is not a valid icon name",LIBRARY_MISSING_LOADED_ICON:"Icon script loaded but the icon cannot be found in library",LOADING_ERROR:"Icon script failed to load",LOADING_TIMEOUT:"Icon script loading timed out",UNKNOWN:"Icon script loading unknown status"})},a05dd:function(e,t,n){n.d(t,{c:function(){return r}});var r=(0,n("59712").F)("core",{REGISTRY_USE_RECEIVED_NONCONSTRUCTOR:"registry.use() received a non-constructor. Make sure you are passing to use() a class itself, not an instance.",API_SERVICE_NOT_OPERATIONAL_ON_SERVER:"Api services are not operational on server. Make sure you don't send requests in created() hook or in computed properties.",STORE_SERVICE_NOT_OPERATIONAL_ON_SERVER:"Store services are not operational on server. Make sure you push new states only on client.",EVENT_BUS_NOT_OPERATIONAL_ON_SERVER:"Event bus is not operational on server. Make sure you don't call emit() in created() hook or in computed properties.",ACTIONS_SERVICE_NOT_OPERATIONAL_ON_SERVER:"Actions services are not operational on server. Make sure you don't call actions in created() hook, computed properties or immediate watchers.",ACTION_METHOD_FALL:"Action GET or POST fall with error"})},"19cb3":function(e,t,n){n.d(t,{r:function(){return r}});var r=(0,n("59712").F)("federation",{PUBLIC_PATH_IS_MISSING:"publicPath is missing in vertical info",INITIAL_ASSETS_ARE_MISSING:"Initial assets are missing in vertical info",LOADING_ASSET_ERROR:"Loading asset failed",LOADING_ASSET_TIMEOUT:"Loading asset taimed out"})},"2ef7a":function(e,t,n){n.d(t,{X8:function(){return d},_:function(){return o},jn:function(){return c},kE:function(){return l},nd:function(){return f},xv:function(){return h}});var r=n("59712"),o=(0,r.F)("layout",{COMPOSER_EMPTY_DATA:"Data from composer is empty",COMPOSER_FETCH_LAYOUT:"Error while fetch composer layout",DIRECTIVE_V_HTML_DEPRECATED:'Directive "v-html" deprecated',WIDGET_STATE_NOT_FOUND:"State for widget wasn't found",WIDGET_ASYNC_WITHOUT_HASH:"Error while getting hash of async widget",WIDGET_ASYNC_EMPTY_RESPONSE:"Empty response for async widget",WIDGET_ASYNC_NO_VERTICAL:"Empty vertical in async widget",WIDGET_NO_STATE_ID:"Empty widget state id passed",WRONG_REPLACE_PARAMS:"Wrong params passed to replace state function",WRONG_WIDGET_CONTENT:"Wrong content passed to widget creator",WRONG_WIDGET_VERSION:"Wrong version passed to widget creator",WIDGET_MAP_NO_COMPONENTS:"Need to passed components for generate testing data",WIDGET_MAP_TYPE_ERROR:"Type error while getting node",WIDGET_WRONG_SET_STATE:"Wrong state type passed to update function",UNCORRECT_WIDGET:"Error while recognition widget",UNKNOWN_WIDGET_ERROR:"Unknown type of error",WIDGET_NOT_FOUND_STATE_ID:"Error while try to find widgets layer by state id",PLACEHOLDERS_MUST_BE_ARRAY:"Expected placeholders to be an array",CLIENT_WIDGET_STATES_INVALID_TYPE:"Expected client widget state to be an object"}),c=(0,r.F)("unfound",{WIDGET_NOT_FOUND:"Widget not found in project"}),d=(0,r.F)("rendering",{WIDGET_RENDER_ERROR:"Error while rendering widget"}),l=(0,r.F)("rendering-placeholder",{WIDGET_CANT_BE_RENDERED:"Widget can't be rendered in placeholder"}),f=(0,r.F)("async-state",{FETCH_ASYNC_WIDGET_STATE_ERROR:"Error while fetching async widget state"}),h=(0,r.F)("promises",{UNHANDLED_REJECTION:"Error while handling promise",REJECTION_HANDLED:"Rejection was hanldled after PROMISES.UNHANDLED_REJECTIONS error"})},ada5e:function(e,t,n){n.d(t,{b:function(){return r}});var r=(0,n("59712").F)("logger",{PARSING_ERROR:"Error while parsing fields to log",PARAMS_ERROR:"Error while adding params",GETTING_STORE_FIELDS_ERROR:"Error while getting user fields from store"})},d89e0:function(e,t,n){n.d(t,{SW:function(){return r}});var r=(0,n("59712").F)("sw",{ERROR_SW:"Error while service worker on application init",ERROR_SW_ON_SPA:"Error while service worker on spa redirect",ERROR_REGISTERING_SW:"Error while registering service worker",ERROR_REGISTERING_SW_ON_SPA:"Error while registering service worker on spa redirect",ERROR_FETCH_NEXT_PAGE:"Error while prefetch next page by service worker"})},"2e5a9":function(e,t,n){n.d(t,{k:function(){return r}});var r="ru"},"6a811":function(e,t,n){n.d(t,{Hx:function(){return d},Zs:function(){return c},mt:function(){return o},sW:function(){return r}});var r="success",o="failure",c="pending",d="canceled"},"2c40a":function(e,t,n){n.d(t,{F:function(){return o},t:function(){return r}});var r="x-o3-debug-toolbar",o="x-o3-auto-modal-off"},e4d72:function(e,t,n){n.d(t,{U:function(){return r},p:function(){return o}});var r="entrypoint-api.bx",o="composer-api.bx"},da738:function(e,t,n){n.d(t,{ej:function(){return c},oC:function(){return d},uh:function(){return r}});var r=function(e){if("string"!=typeof e||!e)throw new TypeError('The argument "str" cannot be empty and must be of type "string"');var t={key:null,value:null,options:{}},n=e.split(";"),r=o(n[0]);if(!r.key)throw new TypeError("Empty cookie name");if(!r.value)throw new TypeError("Empty cookie value");t.key=r.key,t.value=r.value;for(var i=1;i<n.length;++i)r=o(n[i]),t.options[r.key]=r.value;return t},o=function(e){var t=e.split("=");return{key:decodeURIComponent(t[0]),value:t[1]?decodeURIComponent(t[1]):t[1]}},c=function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([.$?*|{}()\[\]\\\/+^])/g,"\\$1")+"=([^;]*)"));if(t)return decodeURIComponent(t[1])},d=function(e){var t=e.key,n=e.value,r=e.options,o=void 0===r?{}:r,c="path=/;";for(var param in o)c+=param+"="+o[param]+";";return{cookies:[{name:t,value:n,params:c}]}}},59712:function(e,t,n){function r(e,t){var n={};return Object.keys(t).forEach((function(r){n[r]={value:t[r],zone:e,errorCode:r}})),Object.freeze(n)}n.d(t,{F:function(){return r}})},c3055:function(e,t,n){n.d(t,{E:function(){return o}});var r=n("cd940");function o(e){void 0===e&&(e="");var t=(0,r.__read)(e.split("#"),2)[1],n=void 0===t?"":t,o=(0,r.__read)(n.split("--offset-"),2),c=o[0],d=o[1];return{hash:c,offsetTop:Number(d)}}},efb86:function(e,t,n){var r,o;n.d(t,{d:function(){return d}}),function(e){e.mWebClient="mweb_client",e.dWebClient="dweb_client"}(r||(r={})),function(e){e.name="x-o3-app-name",e.version="x-o3-app-version",e.manifest="x-o3-manifest-version"}(o||(o={}));var c={},d=function(e,t){var n,d,l;return void 0===e&&(e="desktop"),void 0===t&&(t=!1),c[e]&&!t||(c[e]=((n={})[o.name]=function(e){return void 0===e&&(e="desktop"),"desktop"===e?r.dWebClient:r.mWebClient}(e),n[o.version]=(d=[],/release/.test(l="release/csma/20231128-0")&&d.push("release"),/hotfix/.test(l)&&d.push("hotfix"),d.push("4-11-2023"),d.push("9c7549cd"),d.join("_")),n[o.manifest]="9c7549cd3427c25b18cbd63fcb10f9546b2f6096",n)),c[e]}},42984:function(e,t,n){n.d(t,{R:function(){return c}});var r=n("98942"),o=n("d4296"),c=function(e,t,c){return function(e){var d=String(e);return new Promise((function(l,f){var h=t(d);if(h)return l(h);var v="https://cdn2.ozone.ru";try{v=new URL(n.p).origin}catch(e){}var _=v+"/s3/"+c+"/"+d+".js";n.l(_,(function(e){var n;switch(e.type){case"load":var c=t(d);if(c)return l(c);n=o.R.LIBRARY_MISSING_LOADED_ICON;break;case"error":n=o.R.LOADING_ERROR;break;case"timeout":n=o.R.LOADING_TIMEOUT;break;default:n=o.R.UNKNOWN}if(n){var h=new r.WidgetError(n);return h.setPayloadValue("invalidValue",_),f(h)}}),e)}))}}},c3a5a:function(e,t,n){n.d(t,{Kn:function(){return r},_Z:function(){return o}});var r=function(e){return null!==e&&"object"==typeof e&&!1===Array.isArray(e)},o=function(e){return Array.isArray(e)||"object"==typeof e&&null!==e}},ac072:function(e,t,n){},eddb3:function(e,t,n){n.d(t,{w:function(){return o}});var r=n("1f8a3"),o=function(e,t){if(!Array.isArray(e)||!e.length)return Promise.reject(new Error("Cannot load resources: no links provided"));var n=(0,r.R)();if(n)return Promise.reject(new Error("Cannot load resources: "+n));var o=e.map((function(e){return(0,r.V)(e,t).catch((function(e){return e}))}));return Promise.all(o)}},"10b82":function(e,t,n){n.d(t,{X:function(){return d},p:function(){return c}});var r=function(e){return e===window},o=function(e,t){return r(e)?{x:(e.scrollX||e.pageXOffset||0)+t.x,y:(e.scrollY||e.pageYOffset||0)+t.y}:{x:(e.scrollLeft||0)+t.x,y:(e.scrollTop||0)+t.y}},c=function(e,t,n){if("undefined"!=typeof window){var c=performance.now(),d=n||{},l=d.container?document.querySelector(d.container):window,f=function(e){return r(e)?{x:0,y:0}:{x:e.offsetLeft-(window.scrollX||window.pageXOffset),y:e.offsetTop-(window.scrollY||window.pageYOffset)}}(l),h=o(l,f),v={x:e.x||0,y:e.y||0},_=function(e,t){return{x:e.x<t.x?1:-1,y:e.y<t.y?1:-1}}(h,v),y=0,animate=function(time){var n=time-c,r={x:0,y:0};if(n>0){var m=t-n,E=function(e,t){return e?t-e:t}(y,n),w=function(e,t){return{x:t.x-e.x,y:t.y-e.y}}(h,v);r=function(e,t,n){return{x:e*t.x/n,y:e*t.y/n}}(E,w,m),y=n}var S=function(e,t){return{x:e.x+t.x,y:e.y+t.y}}(h,r);!function(e,t,n,r,o){return!(n<r)||1===o.x&&e.x>t.x||-1===o.x&&e.x<t.x||1===o.y&&e.y>t.y||-1===o.y&&e.y<t.y}(S,e,n,t,_)?(l.scrollBy(r.x,r.y),h=o(l,f),requestAnimationFrame(animate)):(l.scrollTo(v.x-f.x,v.y-f.y),d.onAfter&&d.onAfter())};requestAnimationFrame(animate)}},d=function(e,t,n){if(void 0===n&&(n={}),"undefined"!=typeof window){var r="string"==typeof e?document.querySelector(e):e;if(r){var o=function(e,t,n){var r=void 0===n?{}:n,o=r.offsetLeft,c=void 0===o?0:o,d=r.offsetTop,l=void 0===d?0:d;if(t===window){var f=document.body.getBoundingClientRect(),h=e.getBoundingClientRect();return{x:h.left-f.left-c||0,y:h.top-f.top-l||0}}return{x:(e.offsetLeft||0)-(window.scrollX||window.pageXOffset)-c,y:(e.offsetTop||0)-(window.scrollY||window.pageYOffset)-l}}(r,n.container?document.querySelector(n.container):window,{offsetLeft:n.offsetLeft||0,offsetTop:n.offsetTop||0});c(o,t,n)}}}},c0e0f:function(e,t,n){n.d(t,{OO:function(){return r},bx:function(){return T},Uz:function(){return O},LS:function(){return R},ZA:function(){return v},u:function(){return o},fH:function(){return w},tj:function(){return c}});var r,o="object"==typeof window&&window.navigator&&"serviceWorker"in window.navigator;function c(e){o&&navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage&&navigator.serviceWorker.controller.postMessage(e)}!function(e){e.ALIVE="ALIVE",e.REGISTER="REGISTER",e.UNREGISTER="UNREGISTER"}(r||(r={}));var d=n("cd940"),l=n("956ab"),f=n.n(l);function h(e){return(0,d.__awaiter)(this,void 0,void 0,(function(){return(0,d.__generator)(this,(function(t){switch(t.label){case 0:return indexedDB&&indexedDB.deleteDatabase("workbox-expiration"),c({action:"UNREGISTER"}),e?[4,e.unregister()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}function v(e){return(0,d.__awaiter)(this,void 0,Promise,(function(){var t,n,c,l,v,_,y,m,E,w,S,T,O;return(0,d.__generator)(this,(function(d){switch(d.label){case 0:if(!o||o&&!navigator.serviceWorker.getRegistration)return[2,void 0];if(t=e.resolve("ComposerStore"),n=e.resolve("Config"),c=n.get("hostname"),t.state._get("browser.isBot",!1)||c!==location.hostname)return[2,void 0];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,navigator.serviceWorker.getRegistration(window.location.origin)];case 2:return l=d.sent(),[3,4];case 3:return d.sent(),[2,void 0];case 4:return v=t.state._get("experimentsConfig.disallowSW"),_=n.get("disableSW"),y=n.get("swVersion"),m=t.state._get("browser.useSW"),E=n.get("enableSW"),(w=E&&m&&!_&&!v)?[3,6]:[4,h(l)];case 5:return d.sent(),[2,r.UNREGISTER];case 6:return S=l&&f()(l,"active.scriptURL"),T=l&&f()(l,"active.state"),O=window.location.origin+"/st/service-worker/"+y+".js",w&&S!==O?[4,h(l)]:[3,8];case 7:return d.sent(),[2,r.REGISTER];case 8:return w&&!window.$workbox?[2,r.REGISTER]:w&&window.$workbox&&S===O&&"activated"===T?[2,r.ALIVE]:[2,void 0]}}))}))}var _=n("dd365"),y=n("efb86"),m=n("d89e0"),E=n("e4d72");function w(e,t){if(e)try{var n=e.nextPage,r=f()(e,"browser.useSW"),o=f()(e,"client.platform"),l=document.cookie||"",h=(0,_.Jl)(t.resolve("Config").get("apiGateway"));if(r&&window.$workbox&&n){var v=(0,d.__assign)((0,d.__assign)({Accept:"application/json","Content-Type":"application/json"},(0,y.d)(o)),{cookie:l});c({action:"PREFETCH_NEXT_PAGE",API_URL_BROWSER:h,servicePath:E.U,headers:v,nextPage:n})}}catch(e){t.resolve("Logger").error({exception:e,message:m.SW.ERROR_FETCH_NEXT_PAGE})}}var S=n("c9e1e");function T(e){var t=e.resolve("ComposerStore"),n=t.state._get("experimentsConfig.prerenderCartPageSW",!1),r=t.state._get("experimentsConfig.enableSWCaching",!1),o=t.state._get("pageInfo.pageType");n||c({action:"CLEAR_SW_CACHE",cacheNames:S.ECacheNames.CART}),"cart"!==o&&r&&n&&c({action:"CACHE_CART_PAGE"})}function O(e){var t=e.resolve("ComposerStore"),n=t.state._get("experimentsConfig.prerenderHomePageSW",!1),r=t.state._get("experimentsConfig.enableSWCaching",!1);n||c({action:"CLEAR_SW_CACHE",cacheNames:S.ECacheNames.HOME_PAGE}),r&&n&&c({action:"CACHE_HOME_PAGE"})}function R(e){var t=e.resolve("ComposerStore").state._get("experimentsConfig.prerenderManifestAssetsSW",!1),n=e.resolve("ComposerStore").state._get("experimentsConfig.enableSWCaching",!1);t||c({action:"CLEAR_SW_CACHE",cacheNames:S.ECacheNames.MANIFEST_ASSETS}),t&&n&&c({action:"CACHE_MANIFEST_ASSETS"})}},"831b4":function(e,t,n){n.d(t,{g:function(){return r}});var r=function(){var e=!1;if("undefined"!=typeof window){e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("__supportPassive",(function(){}),t)}catch(e){console.warn("Browser doesn't support passive listeners")}}return e}},"5fca0":function(e,t,n){n.d(t,{At:function(){return h},Rz:function(){return l},Sm:function(){return c},cK:function(){return d},f7:function(){return o},oW:function(){return f}});var r=n("cd940"),o="/",c=function(e){if(!e||"object"!=typeof e)return"";var t=Object.keys(e);return 0===t.length?"":t.map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")},d=function(path,e){return void 0===e&&(e=o),path.startsWith(e)?path:""+e+path},l=function(e){return e&&!e.startsWith("http")?"https:"+d(e,o.repeat(2)):e};function f(e,t){var n=(0,r.__read)(e.split("?"),2),o=n[0],c=n[1],d=c?c.split(/[&]/g):[],l=[];return d.forEach((function(e){var n=e.indexOf("=");if(-1!==n){var r=e.substring(0,n);t.includes(r)||l.push(e)}})),l.length?o+"?"+l.join("&"):o}function h(e,t){if("object"!=typeof t)return e;var n=Object.keys(t);if(!n.length)return e;e=f(e,n);var r=c(t),o=e.includes("?");return e+(o?"&":"?")+r}},"07258":function(e,t,n){var r=n("cd940"),o=(n("4bb2d"),n("897b3"),n("ef233"),n("ee268")),c=n.n(o),d=n("956ab"),l=n.n(d),f=n("2d370");if(window.__i18n__){var h=window.__i18n__,v=h.dayjsLocaleData,_=h.buildDatesData;(0,f.addDayjsSetupFn)((function(e){e.locale(v(),null,!0)})),(0,f.setDatesLocalizedDataLazyBuilder)("default",(function(){return _(v)}))}var y=n("ecd18"),m=n("48bd5"),E=n("ea66f"),w=n("7fefd"),S=n("da738"),T=n("b0b6b"),O=n("d0691"),R=function(e){var t=e.resolve("ComposerStore"),n=e.resolve("Config"),r=t.state._get("experimentsConfig")||{},o=t.state._get("pageStatisticsTrackerMetrics");(t.state._get("o3Params.x-o3-tracker-metrics")||"on"===(0,S.ej)("tracker_metrics"))&&e.resolve("Tracker").setPageStatisticsTrackerMetrics(o);var c=Boolean(r.otmBlock),d=n.get("otmDelay");window.onAppReady((function(){var e=t.getStateObject();"otm"in window&&"init"in window.otm?window.otm.init(e):window.otmState=e,setTimeout((function(){c||function(){if("local"!==n.get("env")){var e=t.state._get("o3Params.x-o3-otm-version")||n.get("otmVersion"),r=t.state._get("browser.cdnStaticHostname")||"cdn2.ozone.ru",o=document.createElement("script"),c=t.state._get("browser.cspNonce");o.setAttribute("nonce",c),o.setAttribute("internal",""),o.setAttribute("id","ozonTagManagerApp"),o.setAttribute("src","https://"+r+"/s3/ozon-tag-manager/"+e+"/sdk.js"),o.setAttribute("defer",""),document.body.appendChild(o)}}()}),d)}))};var I,C=n("13f4a"),k=n("75736"),A=/^(\/product)|(^\/context\/detail\/id)/i,N="tryToAppTime",x=n("c9e1e"),L=n("d89e0"),P=n("c0e0f"),D=function(e){return(0,r.__awaiter)(void 0,void 0,Promise,(function(){var t,o,c,d,f,h,v,_,y;return(0,r.__generator)(this,(function(m){switch(m.label){case 0:if(!P.u)return[2];m.label=1;case 1:return m.trys.push([1,3,,4]),[4,(0,P.ZA)(e)];case 2:return m.sent()!==P.OO.REGISTER?[2]:(t=e.resolve("ComposerStore").state,o=e.resolve("Config"),c=o.get("swVersion"),d=o.get("manifestPrerenderDelay"),f=t._get("experimentsConfig",{}),h={swCachesLifetime:JSON.parse(o.get("swCachesLifetime")),assetsOptions:JSON.parse(o.get("assetsOptions")),manifestAssetsChunkSize:l()(JSON.parse(o.get("prerenderLimits")),"manifestAssetsChunkSize"),assetsChunkPrerenderDelay:o.get("assetsChunkPrerenderDelay")},v=l()(window,"devicePixelRatio"),_=n.p,window.onAppReady((function(){setTimeout((function(){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var t,o,l,y,m;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,n._e("vendor-workbox").then(n.bind(n,"efe75"))];case 1:return t=r.sent().Workbox,o=new t("/st/service-worker/"+c+".js",{scope:"/"}),l=window,y="$workbox",[4,o.register()];case 2:return l[y]=r.sent()||{},[3,4];case 3:return m=r.sent(),e.resolve("Logger").error({exception:m,message:L.SW.ERROR_REGISTERING_SW}),[3,4];case 4:return(0,P.tj)({action:"SET_CONFIGURATION",experimentsConfig:f,runtimeConfig:h,devicePixelRatio:v,publicPath:_}),(0,P.tj)({action:"CLEAR_SW_CACHE",cacheNames:x.ECacheNames.PAGINATOR}),(0,P.tj)({action:"CLEAR_SW_CACHE"}),(0,P.Uz)(e),(0,P.bx)(e),window.requestIdleCallback((function(){setTimeout((function(){(0,P.LS)(e)}),d)})),[2]}}))}))}),1e3)})),[3,4]);case 3:return y=m.sent(),e.resolve("Logger").error({exception:y,message:L.SW.ERROR_SW}),[3,4];case 4:return navigator.serviceWorker.onmessage=function(t){if("EXCEPTION"===t.data.action)e.resolve("Logger").error({exception:t.data.exception,message:t.data.message||L.SW.ERROR_SW,zone:"sw"})},[2]}}))}))},j=n("c6d85"),W=((I={})[x.ESocketNamespaces.COMMUNICATION]={namespace:x.ESocketNamespaces.COMMUNICATION,url:"/v3/buyer"},I),M=n("09138"),G=function(e,t){return(0,r.__awaiter)(void 0,void 0,Promise,(function(){return(0,r.__generator)(this,(function(o){switch(o.label){case 0:return function(e){window.$ComposerRouter=e.resolve("ComposerRouter")}(e),[4,D(e)];case 1:return o.sent(),function(e){C.Router.getInstance().getContext(C.ContextKey.MODAL).on(C.EContextHook.BEFORE_ROUTE_LEAVE,(function(t){var n=t.to;/\/modal\//.test(n)&&e.resolve("ComposerStore").setLayoutModalOptions({isShown:!0,url:n})}))}(e),function(e){C.Router.getInstance().getContext(C.ContextKey.PAGE).on(C.EContextHook.BEFORE_ROUTE_LEAVE,(function(t){var n=t.to,r=t.postBody,o=t.modeSPA,c=e.resolve("ComposerStore").state._get("browser.useSpa"),d=r&&Object.keys(r).length;if(!c&&!o&&!d)return window.location.assign(n),{status:C.EComposerRouterStatus.LOADING_CANCELLED,href:n}}))}(e),(c=C.Router.getInstance().getContext(C.ContextKey.PAGE)).on(C.EContextHook.BEFORE_ROUTE_LEAVE,(function(e){var t=e.to;if(!/\/_action\//.test(t)&&(t.indexOf("://")>0||0===t.indexOf("//")))return window.location.assign(t),{status:C.EComposerRouterStatus.LOADING_CANCELLED}})),c.on(C.EContextHook.END_ROUTE_LOADING,(function(){window.dispatchEvent(new Event("initCustomHtmlLandings"))})),function(e,t){var n=C.Router.getInstance().getContext(C.ContextKey.PAGE);n.on(C.EContextHook.BEFORE_ROUTE_LEAVE,(function(){e.resolve("Tracker").sendPageClose()})),n.on(C.EContextHook.AFTER_ROUTE_ENTER,(function(n){var r=n.to;t().then((function(){var t=e.resolve("ComposerStore"),n=e.resolve("Tracker"),o=t.state._get("layoutTrackingInfo",{}),c=t.state._get("browser",{}),d=t.state._get("pageToken",{}),l=t.state._get("userToken",{});n.stateMemory.setData({pageInfo:o,browser:c,pageToken:d,userToken:l}),n.sendPageView({page:{currentUrl:r}}),e.resolve("Config").get("otmOn")&&Object.keys(window.otm||{}).includes("setTrigger")&&window.otm.setTrigger("APP_PAGE_CHANGED")}))}))}(e,t),function(e){var t=C.Router.getInstance().getContext(C.ContextKey.PAGE),n=document.querySelector("html");null!==n.getAttribute("data-n-head-ssr")&&n.removeAttribute("data-n-head-ssr"),t.on(C.EContextHook.END_ROUTE_LOADING,(function(){var t=e.resolve("ComposerStore").state._get("seo",{}).title,title=void 0===t?"OZON.ru":t;title&&(document.title=title)}))}(e),function(e){C.Router.getInstance().getContext(C.ContextKey.PAGE).on(C.EContextHook.BEFORE_ROUTE_LEAVE,(function(){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var t,o,c,d,l,f,h,v;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:if(!P.u)return[2];r.label=1;case 1:return r.trys.push([1,8,,9]),[4,(0,P.ZA)(e)];case 2:if(t=r.sent(),o=e.resolve("Config").get("swVersion"),!t||t===P.OO.UNREGISTER)return[2];if(t!==P.OO.REGISTER)return[3,7];r.label=3;case 3:return r.trys.push([3,6,,7]),[4,n._e("vendor-workbox").then(n.bind(n,"efe75"))];case 4:return c=r.sent().Workbox,d=new c("/st/service-worker/"+o+".js",{scope:"/"}),l=window,f="$workbox",[4,d.register()];case 5:return l[f]=r.sent(),[3,7];case 6:return h=r.sent(),e.resolve("Logger").error({exception:h,message:L.SW.ERROR_REGISTERING_SW_ON_SPA}),[3,7];case 7:return t===P.OO.ALIVE&&(0,P.tj)({action:"CLEAR_SW_CACHE",cacheNames:x.ECacheNames.PAGINATOR}),[3,9];case 8:return v=r.sent(),e.resolve("Logger").error({exception:v,message:L.SW.ERROR_SW_ON_SPA}),[3,9];case 9:return[2]}}))}))}))}(e),function(){var e=C.Router.getInstance(),t=e.getContext(C.ContextKey.PAGE);function n(){var t=e.getParams().fullPath;(0,k.W)(t)}t.on(C.EContextHook.AFTER_ROUTE_ENTER,(function(e){var t=e.to;return(0,k.W)(t)})),t.on(C.EContextHook.AFTER_URL_CHANGE,(function(e){var t=e.to;return(0,k.W)(t)})),"complete"===document.readyState?n():window.addEventListener("load",n)}(),function(e){C.Router.getInstance().getContext(C.ContextKey.PAGE).on(C.EContextHook.BEFORE_ROUTE_LEAVE,(function(t){var n=t.to;return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var t,o,c,d,f,h,v,_,y,m,E;return(0,r.__generator)(this,(function(r){return t=e.resolve("ComposerStore"),o=t.state._get("browser"),c=t.state._get("experimentsConfig"),(d=localStorage.getItem(N))||localStorage.setItem(N,String(Date.now())),f=!d||Date.now()-Number(d)>18e5,h=Boolean((0,S.ej)("toApp")||0),v=l()(o,"isMobile",!1),_=l()(c,"forceToApp",!1),y=new URL(n,"https://m.ozon.ru"),m=A.test(y.pathname),f&&localStorage.removeItem(N),v&&f&&!h&&_&&m?(E=e.resolve("Tracker").pageViewId,y.searchParams.set("from","WebToApp2"),y.searchParams.set("mwId",""+E),window.location.href=y.toString(),[2,{status:C.EComposerRouterStatus.LOADING_CANCELLED}]):[2]}))}))}))}(e),R(e),function(e){var t=(0,S.ej)("ap_visited");if(t){var n=location.hostname.split(".");T.registry.use(O.ComposerService).actionPost({name:"setUserCookies",data:(0,S.oC)({key:"ap_visited",value:t,options:{domain:"."+n.slice(-2).join(".")}})})}var r=e.resolve("ComposerStore"),o=r.state._get("debug")||{};console.log("--DEBUG_INFO--",JSON.parse(JSON.stringify(o)));var c=r.state._get("jsCookie")||[];try{c.forEach((function(e){T.registry.use(O.ComposerService).actionPost({name:"setUserCookies",data:(0,S.oC)((0,S.uh)(e))})}))}catch(t){e.resolve("Logger").error({exception:t,zone:"cookie"})}window.history&&(window.history.scrollRestoration="auto"),performance&&performance.mark&&window.onAppReady((function(){return performance.mark("HYDRATION_TIME")}))}(e),function(e){var t,n=e.resolve("ComposerStore"),o=n.state._get("client.marketplaceDomain","ozon.ru"),c=n.state._get("browser.disableWebSocket",!1);t="ozon.by"===o?"wss://ws.ozon.by/chat-notification.bx/ws":"ozon.kz"===o?"wss://ws.ozon.kz/chat-notification.bx/ws":e.resolve("Config").get("chatNotificationWS"),Object.keys(W).forEach((function(e){(0,j.setConfigProp)(e,(0,r.__assign)((0,r.__assign)({},W[e]),{url:t+W[e].url}))})),(0,j.setDisableWebSocket)(c)}(e),function(e){var t=e.resolve("Config");(0,M.setConfig)({wsdUrl:t.get("videoUploadWS"),requestUrl:t.get("videoUploadXHR")})}(e),[2]}var c}))}))},U=function(){function e(){this.singletons={},this.servicesInits={}}return e.prototype.register=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];this.servicesInits[e]=(0,r.__spread)([t],n)},e.prototype.registerEager=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];return this.register.apply(this,(0,r.__spread)([e,t],n)),this.resolve(e)},e.prototype.resolve=function(e){if(!this.singletons[e]){var t=this.servicesInits[e];if(t){var n=(0,r.__read)(t),o=n[0],c=n.slice(1);delete this.servicesInits[e],this.singletons[e]=new(o.bind.apply(o,(0,r.__spread)([void 0,{container:this}],c)))}}return this.singletons[e]},e}(),$=n("a2d74"),B=function(e){function t(t,n){var o=e.call(this,t)||this;return o.configurationObj=(0,r.__assign)({},n),o}return(0,r.__extends)(t,e),t.prototype.get=function(e){return l()(this.configurationObj,e)},t}($.w),H=!1,V=n("a6863");var F=n("f3a3e");function z(e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t,n,o,c,d,l,f;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return t=e.resolve("ComposerStore"),n=e.resolve("ComposerRouter"),o=t.state._get("pageInfo.url"),c=n.current,d={currentUrl:c,newerUrl:o},l=t.state._get("experimentsConfig")||{},l.useComposerUrl?[4,n.replace(o,{silent:!0})]:[3,2];case 1:return r.sent(),[3,4];case 2:return f=(0,C.mergeUrl)(d),[4,n.replace(f,{silent:!0})];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))}var K=n("2e5a9");var Y=n("6670a"),J=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.__extends)(t,e),t.prototype.requests=function(data,e){void 0===data&&(data={}),void 0===e&&(e={}),this.log(data,e,Y.z.requests)},t.prototype.debug=function(data,e){void 0===data&&(data={}),void 0===e&&(e={}),this.log(data,e,Y.z.debug)},t.prototype.info=function(data,e){void 0===data&&(data={}),void 0===e&&(e={}),this.log(data,e,Y.z.info)},t.prototype.warning=function(data,e){void 0===data&&(data={}),void 0===e&&(e={}),this.log(data,e,Y.z.warning)},t.prototype.error=function(data,e){void 0===data&&(data={}),void 0===e&&(e={}),this.log(data,e,Y.z.error)},t.prototype.critical=function(data,e){void 0===data&&(data={}),void 0===e&&(e={}),this.log(data,e,Y.z.critical)},t}($.w),X=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._logger=void 0,t._deferredUtils=void 0,t}return(0,r.__extends)(t,e),t.prototype.getLogger=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e,t,o,c,d;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return this._logger?[3,2]:(e=this.container.resolve("ComposerStore"),t=this.container.resolve("Config"),o=e.state._get("browser.isBot"),c=t.get("xapiDomain")+"/api/logs-gateway/input",[4,n._e("vendor-bxfelgr").then(n.t.bind(n,"672d5",23))]);case 1:d=r.sent().ClientLogger,this._logger=new d({apiUrl:c,level:t.get("logLevel"),token:t.get("gatewayKey"),isBot:o}),r.label=2;case 2:return[2,this._logger]}}))}))},t.prototype.getDeferredUtils=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return this._deferredUtils?[3,2]:(e=this,[4,Promise.all([n._e("vendor-bxfelgr"),n.e("main")]).then(n.bind(n,"85b5c"))]);case 1:e._deferredUtils=t.sent(),t.label=2;case 2:return[2,this._deferredUtils]}}))}))},t.prototype.addChunkNameInData=function(data){return(0,r.__awaiter)(this,void 0,Promise,(function(){var e;return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.getDeferredUtils()];case 1:return(e=t.sent())&&e.addChunkNameInData(this.container.resolve("Config").get("env"),data),[2]}}))}))},t.prototype.log=function(data,e,t){var n=this;this.getDeferredUtils().then((function(r){r&&r.log.call(n,data,e,t)})).catch((function(e){console.error(e)}))},t.prototype.platformLog=function(data){var e=this;this.addChunkNameInData(data).then((function(){return e.getLogger()})).then((function(e){e&&e.log(data)})).catch((function(e){console.error(e)}))},t}(J),Z=function(e){function t(t,n){var r=n.language,o=n.translations,c=n.pluralizer,d=e.call(this,t)||this;return d._translations=void 0,d.language=r,d.pluralizer=c,d._translationsSource=o,d}return(0,r.__extends)(t,e),Object.defineProperty(t.prototype,"translations",{get:function(){return this._translations||(this._translations=new Map(Object.entries(this._translationsSource()||{})),this._translationsSource=null),this._translations},enumerable:!1,configurable:!0}),t.prototype.getCurrentLanguage=function(){return this.language},t.prototype.t=function(e,t){void 0===t&&(t={});var n=this.translations.get(e)||t.fallback||e;return this.f(n,t.substitutions||{})},t.prototype.p=function(e,t){return t[this.pluralizer(e)]},t.prototype.f=function(e,n){return e.replace(t.placeholderRegex,(function(e,t){if("'"===e.charAt(0))return e.substring(1);var r=n[t];return null!=r?String(r):""}))},t.placeholderRegex=/'?{(.*?)}/g,t}($.w),Q=function(e){function t(t,n){var r=e.call(this,t)||this,o=new C.Router(n);return Object.assign(o,r)}return(0,r.__extends)(t,e),t}($.w),ee=function(e){function t(t,n,r){var o=e.call(this,t)||this,c=new V.TrackerSDK(n,r);return Object.assign(c,o)}return(0,r.__extends)(t,e),t}($.w);function te(e){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return e.register("Logger",X),e.register("ComposerRouter",Q,function(e){var t=e.resolve("ComposerStore"),n={get $logger(){return e.resolve("Logger")},setComposerLayout:function(e){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return[4,T.registry.use(F._).setComposerLayout(e)];case 1:return[2,t.sent()]}}))}))},fetchComposerLayout:function(e){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return[4,T.registry.use(F._).fetchComposerLayout(e)];case 1:return[2,t.sent()]}}))}))}};return{baseUrl:"/",referrer:t.state._get("pageInfo.referrer"),useSpa:t.state._get("browser.useSpa"),app:n}}(e)),[4,z(e)];case 1:return t.sent(),e.registerEager("Tracker",ee,function(e){var t=e.resolve("ComposerStore"),n=e.resolve("Config");return{namespace:"bx",dev:!("prod"===n.get("env")),manager:{enable:Boolean(t.state._get("o3Params.x-o3-tracker-manager"))||Boolean((0,S.ej)(V.SHOW_MANAGER_COOKIE_NAME)),host:(0,S.ej)(V.TM_NEED_LOCALHOST_COOKIE_NAME)?V.TM_LOCAL_HOST:void 0},metrics:{enable:Boolean(t.state._get("o3Params.x-o3-tracker-metrics"))||Boolean((0,S.ej)(V.SHOW_METRICS_COOKIE_NAME))},cspNonce:t.state._get("browser.cspNonce"),host:n.get("xapiDomain")+"/dlte/multi"}}(e),function(e){var t=e.resolve("ComposerStore");return{pageInfo:t.state._get("layoutTrackingInfo",{}),browser:t.state._get("browser",{}),pageToken:t.state._get("pageToken",""),userToken:t.state._get("userToken","")}}(e)),e.register("Internationalization",Z,function(e){var t=window.__i18n__||{};return{language:e.resolve("ComposerStore").state.language||K.k,pluralizer:t.pluralizer||function(e){return e},translations:t.translations||function(){return{}}}}(e)),[2]}}))}))}var ne=n("63d21"),re=n("2a740"),oe={components:{LayoutBlockVertical:n("6076d").default,LayoutNoSsr:function(){return new Promise((function(e){try{e(n("39eba").Z)}catch(t){e(n("27d76").Z)}}))}},mixins:[(0,re.composerStateMixin)({isMobile:function(e){var t=e.browser,n=void 0===t?{}:t;return Boolean(n.forceMobile||!n.forceDesktop&&n.isMobile)},isAccessibilityMode:function(e){return e._get("browser.accessibilityMode")},layout:function(e){return e.layout}})],computed:{placeholders:function(){return[{name:"default",widgets:this.layout}]}}},ie=oe,ae={layoutPage:"a0",desktop:"a1",mobile:"a2"},se={modAlly:"a"},ce=n("a3a0d");var ue=n.n(ce)()(ie,(function(){var e,t=this,n=t.$createElement,r=t._self._c||n;return r("div",{class:[t.$style.layoutPage,(e={},e[t.$style.mobile]=t.isMobile,e[t.$style.desktop]=!t.isMobile,e[t.$ally.modAlly]=t.isAccessibilityMode,e)],attrs:{id:"layoutPage"}},[r("LayoutBlockVertical",{attrs:{placeholders:t.placeholders,"component-name":"blockVertical",vertical:"layout",root:""}}),t._v(" "),r("LayoutNoSsr")],1)}),[],!1,(function(e){this.$style=ae.locals||ae,this.$ally=se.locals||se}),null,null).exports,de=n("bdde6"),le=n("1fe6b"),fe=Object.assign({},{asyncType:{type:String,validator:function(e){return de.l.indexOf(e)>=0||void 0===e}},asyncHash:{type:String,default:""},isRumTrackingOn:{type:Boolean,default:!1},isTrackingOn:{type:Boolean,default:!1},isTrackView:{type:Boolean,default:!1},layoutPath:{type:String,default:""},index:{type:Number,default:0},platform:{type:String,default:""},widgetState:{type:String,default:"{}"},params:{type:String,default:"{}"},widgetTrackingInfo:le.t.trackingInfoProp},le.P,{componentName:{type:String,default:""},vertical:{type:String,default:""}}),pe=n("81778"),ge=n.n(pe),he=(0,r.__assign)((0,r.__assign)({},ge()),{name:"NoSsr"});c().component(he.name,he);var ve={props:(0,r.__assign)({useWidgetRender:{type:Boolean,default:!1},useBlockRender:{type:Boolean,default:!1}},fe),provide:function(){var e=(0,re.useComposerStore)(this),t=e.state._get("browser",{}),n=e.state._get("experimentsConfig",{});return{useWidgetRender:this.useWidgetRender,useBlockRender:this.useBlockRender,layoutPath:this.layoutPath,useWebP:Boolean(t.webp),useAvif:Boolean(t.avif)&&Boolean(n.enableAVIF),disableGalleryImage:Boolean(n.disableGalleryImage),disableMobileGalleryImage:Boolean(n.disableMobileGalleryImage),cdnImgHostname:t.cdnImgHostname,cdnOriginalImgHostname:t.cdnOriginalImgHostname,cdnVideoHostname:t.cdnVideoHostname,isDisableSrcSet:Boolean(n.disableSrcSet),alternativeHost1200:Boolean(n.alternativeHost1200),ignoreLazy:Boolean(t.ignoreLazy),isMobile:Boolean(t.forceMobile||!t.forceDesktop&&t.isMobile)||Boolean(t.accessibilityMode),isTesting:Boolean(e.state._get("o3Params.x-o3-ui-tests")),isAccessibilityMode:Boolean(t.accessibilityMode),disableImages:Boolean(t.disableImages),sizeMode:t.sizeMode,colorMode:t.colorMode,pageType:e.state._get("pageInfo.pageType",""),experimentsNoBlank:Boolean(n.experimentsNoBlank),locale:e.state._get("language",K.k)}}},_e=ve.props,ye=ve.provide;function me(e){var t="__plugin_"+e+"_installed__";c()[t]||(c()[t]=!0,c().use((function(){c().prototype.hasOwnProperty(e)||Object.defineProperty(c().prototype,e,{get:function(){return this.$root.$options[e]}})})))}var Ee=Object.entries({$composerStore:"ComposerStore",$composerRouter:"ComposerRouter",$config:"Config",$logger:"Logger",$tracker:"Tracker",$i18n:"Internationalization"});var be=n("d91f7"),we=n("c3a5a"),Se=n("98942");function Te(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Array.isArray(e[0])?[]:{};return e.forEach((function(e){Object.entries(e).forEach((function(e){var t=(0,r.__read)(e,2),o=t[0],c=t[1],d=n[o],l=c;(0,we.Kn)(d)&&(0,we.Kn)(l)?n[o]=Te(d,l):void 0===l?n[o]=(0,we._Z)(d)?Te(d):d:(0,we._Z)(l)?n[o]=Te(l):n[o]=l}))})),n}function Oe(e,t,n){if(t instanceof Se.WidgetError){var r=n.layout,o=n.layoutModal,c=n.layoutNotify,d=n.triggerMutation,l=n.stateId;t.mergePayload({layout:JSON.stringify(r),layoutModal:JSON.stringify(o),layoutNotify:JSON.stringify(c),requestedStateId:l,triggerMutation:d})}e.error(t)}var Re=function(e,t,n){for(var i=0;i<e.length;i++){var r=e[i];if(r.stateId===t)return{layer:e,widgetIndex:i,layoutName:n};if(r.placeholders&&r.placeholders.length)for(var o=0;o<r.placeholders.length;o++){var c=Re(r.placeholders[o].widgets,t,n);if(c)return c}}return!1},Ie=["layout","layoutModal"];function Ce(e,t){if(!t)return!1;for(var i=0;i<Ie.length;i++){var n=Ie[i],r=e._get(n);if(r&&r.length){var o=Re(r,t,n);if(o)return o}}return!1}var ke=function(e){function t(t,n){var r=e.call(this,t,{noFreezeServerState:!0})||this;return r._composerData=n,r}return(0,r.__extends)(t,e),t.prototype.getInitialState=function(){var e=this._composerData;return this._composerData=null,e},t.prototype.setRootState=function(body){var e=this;this.pushState((function(){return Object.assign({},e.state,body)}))},t.prototype.mergeRootState=function(body){this.pushState((function(e){Object.assign(e,Te({},e,body))}))},t.prototype.setComposerDebug=function(data){this.pushState((function(e){Object.assign(e.debug,data)}))},t}(be.AbstractStoreService),Ae=n("d0250"),Ne=n("2ef7a"),xe=n("9434f"),Le=n("aa5b4");var Pe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.__extends)(t,e),t.prototype.deepSet=function(e){this.pushState((function(t){e.map&&"function"==typeof e.map&&(e.value=e.map(e.value),delete e.map),(0,xe.vueSet)(t,e.path,e.value)}))},t.prototype.getStateObject=function(){return this.state},t.prototype.removeWidgetByStateId=function(e){var t=this,n=e.stateId;if(!n)throw new Ae.LoggerError(Ne._.WIDGET_NO_STATE_ID);this.pushState((function(e,r){try{var o=Ce(e,n);if(o)return void c().delete(o.layer,o.widgetIndex);throw new Se.WidgetError(Ne._.WIDGET_NOT_FOUND_STATE_ID)}catch(o){r(),Oe(t.container.resolve("Logger"),o,{layout:e.layout,stateId:n,triggerMutation:"removeWidgetByStateId",layoutModal:e.layoutModal||"none",layoutNotify:e.layoutNotify||"none"})}}))},t.prototype.setWidgetPlaceholderByStateId=function(e){var t=this,n=e.stateId,r=e.placeholder;if(!n)throw new Ae.LoggerError(Ne._.WIDGET_NO_STATE_ID);this.pushState((function(e,o){try{var d=Ce(e,n);if(d)return void function(e,t,n){if(e[t].placeholders){var r=(0,Le.ph)(e[t].placeholders,n.name);if(!r.name){var o=e[t].placeholders.length;return void c().set(e[t].placeholders,o,n)}for(var d=e[t].placeholders.indexOf(r),i=0;i<n.widgets.length;i++)o=e[t].placeholders[d].widgets.length,c().set(e[t].placeholders[d].widgets,o,n.widgets[i])}else c().set(e[t],"placeholders",[n])}(d.layer,d.widgetIndex,r);throw new Se.WidgetError(Ne._.WIDGET_NOT_FOUND_STATE_ID)}catch(r){o(),Oe(t.container.resolve("Logger"),r,{layout:e.layout,stateId:n,triggerMutation:"setWidgetPlaceholderByStateId",layoutModal:e.layoutModal||"none",layoutNotify:e.layoutNotify||"none"})}}))},t.prototype.setLayoutModal=function(e){this.pushState((function(t){c().set(t,"layoutModal",e)}))},t.prototype.setLayoutModalOptions=function(e){var t=e.isShown,n=e.url;this.pushState((function(e){c().set(e,"layoutModalOptions",{isShown:t,url:n})}))},t.prototype.setLayoutNotify=function(e){this.pushState((function(t){c().set(t,"layoutNotify",e)}))},t.prototype.setLayoutNotifyOptions=function(e){var t=e.options,n=void 0===t?{}:t,data=e.data;this.pushState((function(e){var t=void 0===n.showNotify||n.showNotify,o=(0,r.__assign)((0,r.__assign)({},n),{showNotify:t});"function"==typeof t&&(o.showNotify=t(data)),o.atoms&&o.atoms.length&&(o.nuclear=!0,delete o.atoms),c().set(e.shared,"layoutNotifyOptions",o)}))},t.prototype.setSharedState=function(e){void 0===e&&(e={}),this.pushState((function(t){c().set(t,"shared",Object.assign({},t.shared,e))}))},t.prototype.setLocationState=function(e){void 0===e&&(e={}),this.pushState((function(t){c().set(t,"location",Object.assign({},t.location,e))}))},t.prototype.setVerticalInfo=function(e){this.pushState((function(t){t.verticalInfo=Object.assign(t.verticalInfo||{},e)}))},t.prototype.setDebugWidgetsState=function(e){void 0===e&&(e={}),this.pushState((function(t){c().set(t.debug,"widgets",Object.assign({},t.debug.widgets,e))}))},t.prototype.replaceStateByPath=function(e){void 0===e&&(e={});var path=e.path,t=e.value;if(!path||void 0===t)throw new Ae.LoggerError(Ne._.WRONG_REPLACE_PARAMS);this.deepSet({path:path,value:t})},t.prototype.replaceSharedStore=function(e){var t=this;void 0===e&&(e={});var n=e.vertical,r=e.verticalShared,o=void 0===r?{}:r;if(!n||!o)throw new Ae.LoggerError(Ne._.WIDGET_ASYNC_NO_VERTICAL);Object.keys(o).forEach((function(e){var r={path:[n,"shared",e].join("."),value:o[e]},c={path:["shared",e].join("."),value:o[e]};t.replaceStateByPath(r),t.replaceStateByPath(c)}))},t}(ke),De=n("3575a"),je=n("19cb3"),We=n("cb79f");var Me=new Map,Ge=function(element,e){Me.set(element,e)},Ue=function(element){return Me.get(element)},$e=function(element,e){return function(t,n){var o=Ue(element);if(o){var c=o.settings.detectHalf?n>=.5:t;(c||o.settings.emitInvisible)&&c!==o.isVisible&&(o.callback(c),o.settings.once)?e(element):function(element,e){var t=Ue(element),n=(0,r.__assign)((0,r.__assign)({},t),e);Ge(element,n)}(element,{isVisible:c})}}},Be={track:!0,once:!1,unbind:!1,detectHalf:!1,emitInvisible:!1,top:"0px",left:"0px",bottom:"0px",right:"0px",callback:null,offset:0},He=function(e){var t=e.offset?e.offset+"px":e.bottom;return e.top+" "+e.right+" "+t+" "+e.left},Ve=function(e){return(0,r.__assign)((0,r.__assign)({},Be),e)},Fe=function(e){function t(t,n){var r=e.call(this)||this;return r.message=t,r.description=n,r}return(0,r.__extends)(t,e),t}(Error),ze=function(e){return e.elm},Ke={bind:function(element,e){var t=(0,r.__assign)((0,r.__assign)({},Be),e.value),n=e.value.callback,o=e.value.threshold||[0,.5];if(t.track){if("function"!=typeof n)throw new Fe("Параметр callback должен быть типа function.",'Передан невалидный параметр callback типа "'+typeof n+'".');var c=$e(element,(function(e){return Ke.unbind(e,null,null,null)})),d=function(e,t){return new IntersectionObserver((function(e){e.forEach((function(e){var n=e.isIntersecting,r=e.intersectionRatio;t&&t(n,r)}))}),e)}({threshold:o,rootMargin:He(t)},c);Ge(element,{settings:t,callback:n,handler:c,observer:d,isVisible:!1}),d.observe(element)}},componentUpdated:function(e,t,n,r){var o=Ve(t.value),c=Ve(t.oldValue);if(n.elm!==r.elm||o.track!==c.track||t.value.subscriptionRenewal)return Ke.unbind(ze(r),t,n,r),void Ke.bind(ze(n),t,n,r);o.unbind!==c.unbind&&(o.unbind?Ke.unbind(ze(r),t,n,r):Ke.bind(ze(n),t,n,r))},unbind:function(element){var e=Ue(element);e&&(e.observer.unobserve(element),function(element){Me.delete(element)}(element))}};c().directive("detect-viewport",Ke);var Ye=n("831b4"),qe=10,Je=40,Xe=400;function Ze(e){return e.touches[0].clientX}function Qe(e){return e.touches[0].clientY}function et(e,t,n,param){void 0===param&&(param=null);var r=t.$$touchObj.callbacks[n]||[];if(0===r.length)return null;for(var i=0;i<r.length;i++){var o=r[i];o.modifiers.stop&&e.stopPropagation(),o.modifiers.prevent&&e.preventDefault(),o.modifiers.self&&e.target!==e.currentTarget||"function"==typeof o.value&&(param?o.value(param,e):o.value(e))}}function tt(e){var t=this.$$touchObj;e.type.indexOf("touch")>=0&&(t.lastTouchStartTime=e.timeStamp),t.touchStarted||(t.touchStarted=!0,t.touchMoved=!1,t.swipeOutBounded=!1,t.startX=Ze(e),t.startY=Qe(e),t.currentX=0,t.currentY=0,t.touchStartTime=e.timeStamp,et(e,this,"start"))}function nt(e){var t=this.$$touchObj;if(t.currentX=Ze(e),t.currentY=Qe(e),t.touchMoved){if(!t.swipeOutBounded){var n=Je;t.swipeOutBounded=Math.abs(t.startX-t.currentX)>n&&Math.abs(t.startY-t.currentY)>n}}else{var r=qe;t.touchMoved=Math.abs(t.startX-t.currentX)>r||Math.abs(t.startY-t.currentY)>r,t.touchMoved&&et(e,this,"moved")}t.touchMoved&&et(e,this,"moving")}function ot(){var e=this.$$touchObj;e.touchStarted=e.touchMoved=!1,e.startX=e.startY=0}function it(e){var t=this.$$touchObj;if(e.type.indexOf("touch")>=0&&(t.lastTouchEndTime=e.timeStamp),t.touchStarted=!1,et(e,this,"end"),t.touchMoved){if(!t.swipeOutBounded){var n=Je,r=void 0;r=Math.abs(t.startX-t.currentX)<n?t.startY>t.currentY?"top":"bottom":t.startX>t.currentX?"left":"right",t.callbacks["swipe."+r]?et(e,this,"swipe."+r,r):et(e,this,"swipe",r)}}else t.callbacks.longtap&&e.timeStamp-t.touchStartTime>Xe?(e.preventDefault(),et(e,this,"longtap")):et(e,this,"tap")}var at={bind:function(e,t){if("boolean"!=typeof t||t){e.$$touchObj=e.$$touchObj||{callbacks:{},hasBindTouchEvents:!1};var n=t.arg||"tap";if("swipe"===n){var r=t.modifiers;if(r.left||r.right||r.top||r.bottom){for(var i in t.modifiers)if(["left","right","top","bottom"].indexOf(i)>=0){var o="swipe."+i;e.$$touchObj.callbacks[o]=e.$$touchObj.callbacks[o]||[],e.$$touchObj.callbacks[o].push(t)}}else e.$$touchObj.callbacks.swipe=e.$$touchObj.callbacks.swipe||[],e.$$touchObj.callbacks.swipe.push(t)}else e.$$touchObj.callbacks[n]=e.$$touchObj.callbacks[n]||[],e.$$touchObj.callbacks[n].push(t);if(!e.$$touchObj.hasBindTouchEvents){var c=!!(0,Ye.g)()&&{passive:!0};e.addEventListener("touchstart",tt,c),e.addEventListener("touchmove",nt,c),e.addEventListener("touchcancel",ot),e.addEventListener("touchend",it),e.$$touchObj.hasBindTouchEvents=!0}}},unbind:function(e){e.removeEventListener("touchstart",tt),e.removeEventListener("touchmove",nt),e.removeEventListener("touchcancel",ot),e.removeEventListener("touchend",it),delete e.$$touchObj}};c().directive("touch",at);var st=n("4034b"),ct=function(e,t){t.value&&(e.innerHTML=t.value)},ut={bind:function(e,t,n){ct(e,t),l()(n,"context.$config.configurationObj.vHtmlLog")&&function(e){var t=(0,st.getFirstBaseInstance)(e);if(t&&"function"==typeof t.getLoggerParams){var n=t.getLoggerParams(),r=new Se.WidgetError(Ne._.DIRECTIVE_V_HTML_DEPRECATED);r.mergePayload({widget:n.widget,stateId:n.stateId,vertical:n.vertical,error:Ne._.DIRECTIVE_V_HTML_DEPRECATED.value,component:e.$options.name}),e.$logger.info(r,{forceMode:!0})}}(n.context)},update:function(e,t){ct(e,t)}};c().directive("html-deprecated",ut),(0,ne.g)(),window.onAppReadyCbs=[],window.onAppReady=function(e){window.onAppReadyCbs.push(e)};var lt=window.__NUXT__=window.__NUXT__||{};function ft(e){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return function(e){window.addEventListener("beforeinstallprompt",(function(){e.resolve("Tracker").sendEvent({actionType:"pwa_installation_prompt"})})),window.addEventListener("appinstalled",(function(){e.resolve("Tracker").sendEvent({actionType:"pwa_installed"})}))}(e),function(e){var t=window.onerror,n=c().config.errorHandler,o=e.resolve("ComposerStore").state._get("browser.isBot"),d=function(t){var n=t.message,r=t.exception,c=t.zone,d=t.level,l=void 0===d?"error":d;e.resolve("Logger")[l]({message:n||(r?r.message:"Unhandled error"),url:document.location.toString(),exception:r,isBot:o,zone:c})};window.onerror=function(){for(var e,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var c=n[0],l=n[4],f=c||(l?l.message:"");if(!("ResizeObserver loop limit exceeded"===f||"ResizeObserver loop completed with undelivered notifications."===f||l&&l.stack.includes("chrome-extension://"))){if("Loading asset error"===f){var h="ASSET_LOAD_TIMEOUT"===l.errorCode?je.r.LOADING_ASSET_TIMEOUT:je.r.LOADING_ASSET_ERROR;(e=new De.FederationLoggerError(h)).setPayloadValue("assetSrc",l.assetSrc),e.setPayloadValue("errorCode",l.errorCode)}t&&t.apply(void 0,(0,r.__spread)(n)),d({message:c,exception:e||l})}},c().config.errorHandler=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=(0,r.__read)(e,1)[0];n&&n.apply(void 0,(0,r.__spread)(e)),d({exception:o})},document.addEventListener("hydrationError",(function(){d({message:"hydration error",zone:"hydration"})})),window.addEventListener("unhandledrejection",(function(e){var t=Ne.xv.UNHANDLED_REJECTION,n=t.value,r=t.zone;d({message:n,exception:e.reason,zone:r})})),window.addEventListener("rejectionhandled",(function(e){var t=Ne.xv.REJECTION_HANDLED,n=t.value,r=t.zone;d({message:n,exception:e.reason,zone:r})}))}(e),function(e){var t=e.resolve("ComposerStore").state._get("o3Params.x-o3-ui-tests");We._3.install(c(),{store:{state:{o3Params:void 0===t?{}:{"x-o3-ui-tests":t}}}})}(e),[4,G(e,c().nextTick)];case 1:return t.sent(),[2]}}))}))}c().config.devtools=("string"==typeof lt.state?lt.state.indexOf('"x-o3-vue-devtools":"true"')>=0:l()(lt.state,["o3Params","x-o3-vue-devtools"]))||H;var pt=function(e){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var t,n,o,d,l,f,h;return(0,r.__generator)(this,(function(v){switch(v.label){case 0:"string"==typeof lt.state&&(lt.state=JSON.parse(lt.state)),c().config.silent=true,c().config.performance=H,(0,m.p)(y.Z),(0,E.pm)(y.Z),v.label=1;case 1:return v.trys.push([1,5,,6]),t={},lt.state&&Object.assign(t,lt.state),(0,w.tf)(t),n=e.registerEager("ComposerStore",Pe,t),(0,E.dT)(n),o=(0,E.qI)(n,y.Z).catch((function(e){console.error(e)})),d={props:_e,provide:ye,render:function(e){return e("div",{domProps:{id:"__ozon"}},[e(ue)])}},[4,te(e)];case 2:return v.sent(),T.registry.configure({container:e}),function(e,t){Ee.forEach((function(n){var o=(0,r.__read)(n,2),c=o[0],d=o[1];Object.defineProperty(t,c,{enumerable:!0,get:function(){return e.resolve(d)}}),me(c)}))}(e,d),l=function(e){return function(t,n){if(!t)throw new Error("inject(key, value) has no key provided");if(void 0===n)throw new Error("inject(key, value) has no value provided");t.startsWith("$")||(t="$"+t),e[t]=n,me(t)}}(d),l("$container",e),[4,ft(e)];case 3:return v.sent(),[4,o];case 4:return v.sent(),(f=new(c())(d)).$mount("#__ozon"),c().nextTick((function(){window.onAppReadyCbs.forEach((function(e){"function"==typeof e&&e(f)}))})),[3,6];case 5:return h=v.sent(),(c().config.errorHandler||console.error)(h),[3,6];case 6:return[2]}}))}))};try{"string"==typeof lt.__CONFIG__&&(lt.__CONFIG__=JSON.parse(lt.__CONFIG__));var gt=Object.preventExtensions(new U),ht=gt.registerEager("Config",B,lt.__CONFIG__||{}).get("invokeClientEntryDelay")||0;window.setTimeout((function(){pt(gt).catch((function(e){return console.error(e)}))}),ht)}catch(e){console.error(e)}},"27d76":function(e,t,n){n.d(t,{Z:function(){return c}});var r={render:function(){return null}},o=n("a3a0d"),c=n.n(o)()(r,undefined,undefined,!1,null,null,null).exports},cd600:function(e,t,n){n.r(t),n.d(t,{default:function(){return T}});var r=n("cd940"),o=n("13f4a"),c=n("c3055"),d=n("10b82"),l=n("956ab"),f=n.n(l),h=function(){return f()(window,"navigator.standalone")||window.matchMedia("(display-mode: standalone)").matches},v={UNSET:"",SELF:"_self",BLANK:"_blank",PARENT:"_parent",TOP:"_top"},_=["push","replace"],y="noopener",m=function(e,t,n){return(0,r.__awaiter)(void 0,void 0,Promise,(function(){var l,f,_,y,m,E,w;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return e&&3===e.which?[2]:(l=o.Router.getInstance(),f=function(){"function"==typeof n&&n(e)},h()||!t.target&&t.href||!n?(_=function(e,t){return!(!e||!e.ctrlKey&&!e.metaKey&&2!==e.which&&(h()||t.target!==v.BLANK&&"auxclick"!==e.type))}(e,t),f(),e.defaultPrevented?[2]:t.href&&"#"===t.href[0]?(y=(0,c.E)(t.href),m=y.hash,E=y.offsetTop,w=E?{offsetTop:E}:void 0,(0,d.X)("#"+m,300,w),[2]):(e.preventDefault(),t.href&&t.href.startsWith("http")?(l.redirect(t.href,_?"_blank":"_self"),[2]):t.href?_?(l.redirect(t.href,"_blank"),[3,3]):[3,1]:[3,3])):(f(),[2]));case 1:return t.method?[4,l[t.method](t.href,{silent:t.silent,scroll:t.scroll})]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))},E=Object.values(v),w={name:"ComposerLink",functional:!0,inject:{pageType:{default:""},experimentsNoBlank:{default:!1}},props:{href:{type:String},target:{type:String,default:v.UNSET,validator:function(e){return E.includes(e)}},rel:{type:String},method:{type:String,default:"push",validator:function(e){return _.includes(e)}},silent:{type:Boolean,default:!1},scroll:{type:Boolean,default:!0},noBlank:{type:Boolean,default:!1}},render:function(e,t){var data=t.data,n=t.props,o=t.listeners,c=t.children,d=t.injections;data.attrs=data.attrs||{};var l=function(e,t){var n=!1;n=Boolean(sessionStorage.getItem("debugWithoutBlank"));var r=!(e.noBlank||n||h()||t.experimentsNoBlank);return"home"===t.pageType&&r&&(e.target=v.BLANK),e.target===v.BLANK&&-1===(e.rel||"").indexOf(y)&&(e.rel=e.rel?e.rel+" "+y:y),e}((0,r.__assign)({},n),d),f=function(e){m(e,l,o.click)};return e("a",(0,r.__assign)((0,r.__assign)({},data),{attrs:(0,r.__assign)((0,r.__assign)({},data.attrs),{target:l.target||!1,href:l.href||!1,rel:l.rel||!1}),on:(0,r.__assign)((0,r.__assign)({},o),{click:f,auxclick:f})}),c)}},S=n("a3a0d"),T=n.n(S)()(w,undefined,undefined,!1,null,null,null).exports}}]);